<!doctype html>
<html
	lang="en" >
	<head>
		<title>
            Caio Raphael
		</title>
		<meta
			charset="utf-8" >
		<meta
			name="viewport" 
			content="width=device-width, initial-scale=1" >
		<meta
			name="description" 
			content="Senior Game Developer, Engine Developer, Low-Level Network, Low-Level Systems" >
		<meta
			name="author" 
			content="Caio Raphael" >
		<meta
			name="theme-color" 
			content="#ffffff" 
			media="(prefers-color-scheme: light)" >
		<meta
			name="theme-color" 
			content="#101010" 
			media="(prefers-color-scheme: dark)" >
		<link
			rel="icon" 
			href="/assets/favicon.ico" >
		<link
			rel="icon" 
			href="/assets/favicon-16x16.png" 
			sizes="16x16" 
			type="image/png" >
		<link
			rel="icon" 
			href="/assets/favicon-32x32.png" 
			sizes="32x32" 
			type="image/png" >
		<script>
window.MathJax = {
                tex: {
                    inlineMath: [['$', '$']],
                    displayMath: [['$$', '$$']]
                }
                };
		</script>
		<script
			src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" >
		</script>
		<script
			type="module" >

                    import hljs from 'https://unpkg.com/@highlightjs/cdn-assets@11.11.1/es/highlight.min.js';
                    import hljs_glsl from 'https://unpkg.com/@highlightjs/cdn-assets@11.11.1/es/languages/glsl.min.js';
                    import hljs_odin from 'https://unpkg.com/highlightjs-odinlang@1.4.0/dist/odin.es.min.js';
                    hljs.registerLanguage('odin', hljs_odin);
                    hljs.registerLanguage('glsl', hljs_glsl);
                    hljs.highlightAll();
                
		</script>
		<link
			rel="stylesheet" 
			href="/static/studies.css" >
	</head>
	<body>
		<aside
			id="left-sidebar" >
			<a
				href="/" 
				class="site-logo" >
                Caio Raphael
			</a>
			<nav>
				<details
>
					<summary>
                        Graphics Programming
					</summary>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/Graphics Programming/Vulkan/Vulkan.html" >
                                Vulkan
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/Graphics Programming/Render Engineering/Render Engineering.html" >
                                Render Engineering
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/Graphics Programming/Graphics and Shaders/Graphics and Shaders.html" >
                                Graphics and Shaders
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/Graphics Programming/GLSL/GLSL.html" >
                                GLSL
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/Graphics Programming/GPU/GPU.html" >
                                GPU
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/Graphics Programming/OpenGL/OpenGL.html" >
                                OpenGL
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/Graphics Programming/Slang.html" >
                                Slang
							</a>
						</li>
					</ul>
				</details>
				<details
					open="">
					<summary>
                        Design
					</summary>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/Design/Design - DOD e COP/Design - DOD e COP.html" >
                                Design - DOD e COP
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="active" 
								href="/studies/Design/Design - ECS/Design - ECS.html" >
                                Design - ECS
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/Design/Design - Design Patterns/Design - Design Patterns.html" >
                                Design - Design Patterns
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/Design/Design - Architecture Patterns.html" >
                                Design - Architecture Patterns
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/Design/Design - Concepts and Terminology.html" >
                                Design - Concepts and Terminology
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/Design/Design - Rules of thumb - Laws - Guidelines and Principles/Design - Rules of thumb - Laws - Guidelines and Principles.html" >
                                Design - Rules of thumb - Laws - Guidelines and Principles
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/Design/Design - Paradigms.html" >
                                Design - Paradigms
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/Design/Design - Production Methodologies/Design - Production Methodologies.html" >
                                Design - Production Methodologies
							</a>
						</li>
					</ul>
				</details>
				<details
>
					<summary>
                        Network
					</summary>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/Network/Network - Backend/Network - Backend.html" >
                                Network - Backend
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/Network/Network - Low Level e Etc/Network - Low Level e Etc.html" >
                                Network - Low Level e Etc
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/Network/Network - Netcode/Network - Netcode.html" >
                                Network - Netcode
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/Network/Network - HTTP/Network - HTTP.html" >
                                Network - HTTP
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/Network/Encryption.html" >
                                Encryption
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/Network/SSH.html" >
                                SSH
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/Network/Serialization - Encoding/Serialization - Encoding.html" >
                                Serialization - Encoding
							</a>
						</li>
					</ul>
				</details>
				<details
>
					<summary>
                        Things
					</summary>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/Things/Build Systems - Compilation - Linking/Build Systems - Compilation - Linking.html" >
                                Build Systems - Compilation - Linking
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/Things/CPU/CPU.html" >
                                CPU
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/Things/Code Editors/NeoVim - Setup/NeoVim - Setup.html" >
                                NeoVim - Setup
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/Things/Code Editors/NeoVim - Uso/NeoVim - Uso.html" >
                                NeoVim - Uso
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/Things/Code Editors/VSCode - VSCodium.html" >
                                VSCode - VSCodium
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/Things/Code Editors/Visual Studio/Visual Studio.html" >
                                Visual Studio
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/Things/Debuggers.html" >
                                Debuggers
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/Things/Dependencies.html" >
                                Dependencies
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/Things/Git/Git.html" >
                                Git
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/Things/Handmade Hero/Handmade Hero.html" >
                                Handmade Hero
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/Things/Linux/Linux.html" >
                                Linux
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/Things/Memory/Memory.html" >
                                Memory
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/Things/Multithreading/Multithreading.html" >
                                Multithreading
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/Things/RegEx.html" >
                                RegEx
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/Things/Shells/Shells.html" >
                                Shells
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/Things/Terminal/Terminal.html" >
                                Terminal
							</a>
						</li>
					</ul>
				</details>
				<details
>
					<summary>
                        Programming Languages
					</summary>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/Programming Languages/Assembly - ASM.html" >
                                Assembly - ASM
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/Programming Languages/C++/C++.html" >
                                C++
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/Programming Languages/C.html" >
                                C
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/Programming Languages/CSharp/CSharp.html" >
                                CSharp
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/Programming Languages/Go.html" >
                                Go
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/Programming Languages/Haxe.html" >
                                Haxe
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/Programming Languages/JAI.html" >
                                JAI
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/Programming Languages/Java.html" >
                                Java
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/Programming Languages/Kotlin.html" >
                                Kotlin
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/Programming Languages/Lua.html" >
                                Lua
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/Programming Languages/Nim/Nim.html" >
                                Nim
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/Programming Languages/Odin/Odin.html" >
                                Odin
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/Programming Languages/Python.html" >
                                Python
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/Programming Languages/Rust/Rust.html" >
                                Rust
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/Programming Languages/Swift/Swift.html" >
                                Swift
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/Programming Languages/Zig/Zig.html" >
                                Zig
							</a>
						</li>
					</ul>
				</details>
				<details
>
					<summary>
                        WebDev
					</summary>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/WebDev/WebDev/WebDev.html" >
                                WebDev
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/WebDev/HTML/HTML.html" >
                                HTML
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/WebDev/HTMX.html" >
                                HTMX
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/WebDev/WebAssembly - WASM/WebAssembly - WASM.html" >
                                WebAssembly - WASM
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/WebDev/CSS/CSS.html" >
                                CSS
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/WebDev/JavaScript/JavaScript.html" >
                                JavaScript
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/WebDev/TypeScript.html" >
                                TypeScript
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/WebDev/JavaScript - Frameworks and Libraries/JavaScript - Frameworks and Libraries.html" >
                                JavaScript - Frameworks and Libraries
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/WebDev/JavaScript - Runtime Environments.html" >
                                JavaScript - Runtime Environments
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/WebDev/Hugo/Hugo.html" >
                                Hugo
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/WebDev/Static Site Generators.html" >
                                Static Site Generators
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/WebDev/HTML - Tests/HTML - Tests.html" >
                                HTML - Tests
							</a>
						</li>
					</ul>
				</details>
				<details
>
					<summary>
                        Databases
					</summary>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/Databases/Databases - MongoDB.html" >
                                Databases - MongoDB
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/Databases/Databases - SQL - Relational/Databases - SQL - Relational.html" >
                                Databases - SQL - Relational
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/Databases/Databases - Document Oriented.html" >
                                Databases - Document Oriented
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/Databases/Databases - Object Oriented.html" >
                                Databases - Object Oriented
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/Databases/Databases - ORMs.html" >
                                Databases - ORMs
							</a>
						</li>
					</ul>
				</details>
				<details
>
					<summary>
                        Electronics
					</summary>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/Electronics/Electronics - Sources and Studies.html" >
                                Electronics - Sources and Studies
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/Electronics/Electronics - Projects and Tutorials.html" >
                                Electronics - Projects and Tutorials
							</a>
						</li>
					</ul>
					<ul>
						<li>
							<a
								class="" 
								href="/studies/Electronics/Arduino.html" >
                                Arduino
							</a>
						</li>
					</ul>
				</details>
			</nav>
		</aside>
		<div
			id="central-wrapper" >
			<header
				id="central-header" >
			</header>
			<main>
				<article
					id="note-article" >
					<header>
						<h1>
                            Design - ECS
						</h1>
						<p>
							<time
								datetime="2025-03-11" >
                                🕒 Created: 2025-03-11
							</time>
							<time
								datetime="2025-10-29" >
                                | Updated: 2025-10-29
							</time>
						</p>
					</header>
					<div
						id="note-content" >
<h3
	id="about" >
    About
</h3>
<ul>
	<li>
		<p>
            <a href="Handmade Hero.html#Ep 277 - Entity Systems">
            Handmade Hero#Ep 277 - Entity Systems
            </a>
            .
		</p>
	</li>
	<li>
		<p>
			<input
				type="checkbox" 
				disabled=""
>
            
			<a
				href="https://www.youtube.com/watch?v=EWVU6cFdmr0" 
				class="external-link" 
				target="_blank" >
                ECS on Unity
			</a>
            .
		</p>
	</li>
	<li>
		<p>
			<input
				type="checkbox" 
				disabled=""
>
            
			<a
				href="https://www.youtube.com/watch?v=SofC6c9xQv4" 
				class="external-link" 
				target="_blank" >
                ECS
			</a>
            .
		</p>
	</li>
	<li>
		<p>
			<input
				type="checkbox" 
				disabled=""
>
            
			<a
				href="https://www.youtube.com/watch?v=Nsf2_Au6KxU" 
				class="external-link" 
				target="_blank" >
                SIMD
			</a>
            .
		</p>
	</li>
	<li>
		<p>
			<input
				type="checkbox" 
				disabled=""
>
            
			<a
				href="https://www.youtube.com/watch?v=YnnTb0AQgYM" 
				class="external-link" 
				target="_blank" >
                Casey - SIMD
			</a>
            .
		</p>
	</li>
	<li>
		<p>
			<input
				type="checkbox" 
				disabled=""
>
            
			<a
				href="https://www.dataorienteddesign.com/dodbook/node9.html#SECTION009110000000000000000" 
				class="external-link" 
				target="_blank" >
                SIMD and SOA
			</a>
            .
		</p>
	</li>
	<li>
		<p>
			<input
				type="checkbox" 
				disabled=""
>
            
			<a
				href="https://bitsquid.blogspot.com/2014/08/building-data-oriented-entity-system.html" 
				class="external-link" 
				target="_blank" >
                Data Oriented Entity System
			</a>
            &nbsp;/ 
			<a
				href="https://bitsquid.blogspot.com/2014/09/building-data-oriented-entity-system.html" 
				class="external-link" 
				target="_blank" >
                pt2
			</a>
            &nbsp;/ 
			<a
				href="https://bitsquid.blogspot.com/2014/10/building-data-oriented-entity-system.html" 
				class="external-link" 
				target="_blank" >
                pt3
			</a>
            &nbsp;/ 
			<a
				href="https://bitsquid.blogspot.com/2014/10/building-data-oriented-entity-system_10.html" 
				class="external-link" 
				target="_blank" >
                pt4
			</a>
            .
		</p>
	</li>
	<li>
		<p>
			<input
				type="checkbox" 
				disabled=""
>
            
			<a
				href="https://www.dataorienteddesign.com/dodbook/node5.html" 
				class="external-link" 
				target="_blank" >
                Component Based Objects
			</a>
            .
		</p>
	</li>
</ul>
<h3
	id="construction" >
    Construction
</h3>
<ul>
	<li>
		<p>
			<strong>
                Component
			</strong>
		</p>
		<ul>
			<li>
				<p>
                    A component is a data structure that contains information or attributes of an entity. It has no logic or behavior, only data.
				</p>
			</li>
			<li>
				<p>
                    Components are plain data that can be attached to entities to represent their attributes. Each component is an aspect of an entity, such as position, velocity, health, weapon, etc.
				</p>
			</li>
			<li>
				<p>
					<strong>
                        Ex
					</strong>
                    :
				</p>
				<ul>
					<li>
						<p>
                            A Position (with attributes 
                            <code>x</code>
                            , 
                            <code>y</code>
                            ) or Velocity (with attributes 
                            <code>dx</code>
                            , 
                            <code>dy</code>
                            ) can be components of an entity.
						</p>
					</li>
				</ul>
			</li>
		</ul>
	</li>
	<li>
		<p>
			<strong>
                Entity
			</strong>
		</p>
		<ul>
			<li>
				<p>
                    An entity is a unique identifier (usually a number or an ID) that represents a &quot;thing&quot; in the system, like a character, object, or actor in a game or simulation.
				</p>
			</li>
			<li>
				<p>
                    Entities are simple identifiers and do not have behavior or data directly attached to them. They merely aggregate components.
				</p>
			</li>
			<li>
				<p>
					<strong>
                        Ex
					</strong>
                    :
				</p>
				<ul>
					<li>
						<p>
                            In a game, a player, an enemy, a bullet, or a tree can be represented as entities.
						</p>
					</li>
				</ul>
			</li>
		</ul>
	</li>
	<li>
		<p>
			<strong>
                System
			</strong>
		</p>
		<ul>
			<li>
				<p>
                    A system is logic or a process that operates on one or more components of entities to modify their states or perform some operation.
				</p>
			</li>
			<li>
				<p>
                    Systems process entities that have the required components. Instead of storing data centrally, systems operate on data in a distributed way, allowing entities to behave efficiently.
				</p>
			</li>
			<li>
				<p>
					<strong>
                        Ex
					</strong>
                    :
				</p>
				<ul>
					<li>
						<p>
                            A movement system could update the position of all entities that have Position and Velocity components. An AI system could process enemy behavior (based on their health, position, etc. components).
						</p>
					</li>
				</ul>
			</li>
		</ul>
	</li>
</ul>
<h5
	id="construction-bevy" >
    Construction: Bevy
</h5>
<ul>
	<li>
		<p>
			<strong>
                Component
			</strong>
            :
		</p>
		<ul>
			<li>
				<p>
                    Just a normal Rust data type. generally scoped to a single piece of functionality.
				</p>
			</li>
			<li>
				<p>
					<strong>
                        Ex
					</strong>
                    :
				</p>
				<ul>
					<li>
						<p>
                            position, velocity, health, color, name
						</p>
					</li>
				</ul>
			</li>
		</ul>
	</li>
	<li>
		<p>
			<strong>
                Entity
			</strong>
            :
		</p>
		<ul>
			<li>
				<p>
                    A collection of components with a unique id.
				</p>
			</li>
			<li>
				<p>
					<strong>
                        Ex
					</strong>
                    :
				</p>
				<ul>
					<li>
						<p>
                            Entity1 { Name(&quot;Alice&quot;), Position(0, 0) },
						</p>
					</li>
					<li>
						<p>
                            Entity2 { Name(&quot;Bill&quot;), Position(10, 5) }
						</p>
					</li>
				</ul>
			</li>
		</ul>
	</li>
	<li>
		<p>
			<strong>
                Resource
			</strong>
            :
		</p>
		<ul>
			<li>
				<p>
                    A shared global piece of data.
				</p>
			</li>
			<li>
				<p>
					<strong>
                        Ex
					</strong>
                    :
				</p>
				<ul>
					<li>
						<p>
                            Asset storage, events, system state
						</p>
					</li>
				</ul>
			</li>
		</ul>
	</li>
	<li>
		<p>
			<strong>
                System
			</strong>
            :
		</p>
		<ul>
			<li>
				<p>
                    Runs logic on entities, components, and resources.
				</p>
			</li>
			<li>
				<p>
					<strong>
                        Ex
					</strong>
                    :
				</p>
				<ul>
					<li>
						<p>
                            Move system, damage system
						</p>
					</li>
				</ul>
			</li>
		</ul>
	</li>
</ul>
<h3
	id="concepts" >
    Concepts
</h3>
<ul>
	<li>
		<p>
			<strong>
                Decoupling
			</strong>
		</p>
		<ul>
			<li>
				<p>
					<strong>
                        Definition
					</strong>
                    :
				</p>
				<ul>
					<li>
						<p>
                            It relies on composition instead of inheritance and promotes separation between data and behavior.
						</p>
					</li>
					<li>
						<p>
                            ECS promotes decoupling between data (components) and processing logic (systems).
						</p>
					</li>
				</ul>
			</li>
			<li>
				<p>
					<strong>
                        Characteristics
					</strong>
                    :
				</p>
				<ul>
					<li>
						<p>
                            By separating data (components) and logic (systems), the architecture makes maintenance, refactoring, and extension easier. You can add new systems or components without affecting other systems or entities.
						</p>
					</li>
				</ul>
			</li>
		</ul>
	</li>
	<li>
		<p>
			<strong>
                Immutability (optional, but common)
			</strong>
		</p>
		<ul>
			<li>
				<p>
					<strong>
                        Definition
					</strong>
                    :
				</p>
				<ul>
					<li>
						<p>
                            Although ECS does not directly enforce immutability, some implementations commonly use immutable data structures to ensure component data is not changed directly. This helps avoid side effects and eases concurrency.
						</p>
					</li>
				</ul>
			</li>
			<li>
				<p>
					<strong>
                        Characteristics
					</strong>
                    :
				</p>
				<ul>
					<li>
						<p>
                            In an immutable ECS implementation, when a system processes an entity's data, it produces a new version of the entity (or component) with modified data, rather than mutating existing data. This improves predictability and debugging, and helps optimize code in concurrent systems.
						</p>
					</li>
				</ul>
			</li>
		</ul>
	</li>
	<li>
		<p>
			<strong>
                Performance and Scalability
			</strong>
		</p>
		<ul>
			<li>
				<p>
					<strong>
                        Definition
					</strong>
                    :
				</p>
				<ul>
					<li>
						<p>
							<a
								href="https://www.youtube.com/watch?v=zxW_xxDuVC0" 
								class="external-link" 
								target="_blank" >
                                Visualization of random memory access in Godot {1:58}
							</a>
                            .
						</p>
					</li>
					<li>
						<p>
                            ECS is optimized for high performance and scalability. The separation of data and logic allows accessing data sequentially and simply, which is advantageous for memory cache optimizations.
						</p>
					</li>
				</ul>
			</li>
			<li>
				<p>
					<strong>
                        Characteristics
					</strong>
                    :
				</p>
				<ul>
					<li>
						<p>
                            The architecture enables parallelized and efficient operations, since components are stored contiguously, improving cache locality and enabling fast processing.
						</p>
					</li>
				</ul>
			</li>
		</ul>
	</li>
	<li>
		<p>
			<strong>
                Component Storage (Data-Oriented)
			</strong>
		</p>
		<ul>
			<li>
				<p>
					<strong>
                        Definition
					</strong>
                    :
				</p>
				<ul>
					<li>
						<p>
                            Components are stored in a data-oriented way. This means data for each component type is organized contiguously to improve memory access efficiency.
						</p>
					</li>
				</ul>
			</li>
			<li>
				<p>
					<strong>
                        Characteristics
					</strong>
                    :
				</p>
				<ul>
					<li>
						<p>
                            This optimizes cache usage and reduces access latency, which is crucial in games and simulations that require fast real-time processing.
						</p>
					</li>
				</ul>
			</li>
		</ul>
	</li>
</ul>
<h3
	id="implementations" >
    Implementations
</h3>
<ul>
	<li>
		<p>
            <img src="assets/image_20250301121328.png" width="300" >
            .
		</p>
		<ul>
			<li>
				<p>
                    &quot;Sometimes I have many components that are not used, so the array becomes quite sparse. One solution would be to use Archetypes or Sparse Sets, but I don't want to lock into optimization.&quot;
				</p>
			</li>
		</ul>
	</li>
	<li>
		<p>
			<strong>
                Archetype-based systems
			</strong>
            :
		</p>
		<ul>
			<li>
				<p>
                    Generally better at iterating through components.
				</p>
			</li>
			<li>
				<p>
                    Group entities with identical sets of components together in memory, allowing for contiguous memory storage and fast access patterns during iteration. It's nice in that you don't need to check whether a given entity has certain components on each iteration. Adding or removing components is generally more expensive than with sparse sets though, because you need to transfer all components for an entity from one pool to another.
				</p>
			</li>
		</ul>
	</li>
	<li>
		<p>
			<strong>
                Sparse set systems
			</strong>
            :
		</p>
		<ul>
			<li>
				<p>
                    Generally better for adding / removing components.
				</p>
			</li>
			<li>
				<p>
                    Manage components individually, using a dense array for each component type and a sparse array for existence checks. It's generally better in scenarios where components are added or removed frequently because you don't need to move all components an entity has, but iteration is more expensive as it requires checks to ensure each entity has the requested components.
				</p>
			</li>
		</ul>
	</li>
	<li>
		<p>
			<strong>
                Entt and Flecs
			</strong>
            :
		</p>
		<ul>
			<li>
				<p>
                    Apparently Entt and Flecs recently support both, in their own way.
				</p>
			</li>
			<li>
				<p>
                    &quot;Entt is a sparse set ECS, flecs is an archetype&quot;.
				</p>
				<ul>
					<li>
						<p>
                            I haven't read the code for either, and it's possible that one or both are doing clever things which makes everything said above irrelevant.
						</p>
					</li>
				</ul>
			</li>
		</ul>
	</li>
</ul>
<h3
	id="examples" >
    Examples
</h3>
<ul>
	<li>
		<p>
			<a
				href="https://github.com/bevyengine/bevy/blob/v0.14.0/examples/ecs/ecs_guide.rs" 
				class="external-link" 
				target="_blank" >
                ECS demo in Bevy
			</a>
            .
		</p>
	</li>
	<li>
		<p>
            ~Let's Build ECS in Zig 
			<a
				href="https://devlog.hexops.com/2022/lets-build-ecs-part-1/" 
				class="external-link" 
				target="_blank" >
                (pt1)
			</a>
            &nbsp;/ 
			<a
				href="https://devlog.hexops.com/2022/lets-build-ecs-part-2-databases/" 
				class="external-link" 
				target="_blank" >
                (pt2)
			</a>
            .
		</p>
		<ul>
			<li>
				<p>
                    I found the explanation a bit confusing.
				</p>
			</li>
			<li>
				<p>
                    Maybe revisit this in the future.
				</p>
			</li>
		</ul>
	</li>
</ul>
<h5
	id="applications" >
    Applications
</h5>
<ul>
	<li>
		<p>
            <img src="assets/image_20250301121149.png" width="425" >
            .
		</p>
		<ul>
			<li>
				<p>
                    &quot;The movement system takes the Transform and Physics components, so the entity's Transform x and y are changed using information from Physics.&quot;
				</p>
			</li>
		</ul>
	</li>
	<li>
		<p>
			<strong>
                OOP
			</strong>
            :
		</p>
		<ul>
			<li>
				<p>
                    Via Chat-GPT
				</p>
			</li>
		</ul>
<pre><code class="language-js" data-lang="js"> // Components: defined as types (immutable types)
 type Position = { x: number, y: number };
 type Velocity = { dx: number, dy: number };
 
 // Entity: composed of components.
 type Entity = { id: number, position: Position, velocity: Velocity };
 
 // System: to update an entity's position.
 function updatePosition(entity: Entity): Entity {
&nbsp;&nbsp;&nbsp;&nbsp; const newPosition = {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; x: entity.position.x + entity.velocity.dx,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; y: entity.position.y + entity.velocity.dy
&nbsp;&nbsp;&nbsp;&nbsp; };
&nbsp;&nbsp;&nbsp;&nbsp; return { ...entity, position: newPosition };
 }
 
 
 const player: Entity = { id: 1, position: { x: 0, y: 0 }, velocity: { dx: 2, dy: 3 } };
 const newPlayer = updatePosition(player);
</code></pre>
	</li>
</ul>
<h3
	id="frameworks" >
    Frameworks
</h3>
<ul>
	<li>
		<p>
			<a
				href="https://github.com/abeimler/ecs_benchmark" 
				class="external-link" 
				target="_blank" >
                Comparative benchmark
			</a>
            .
		</p>
	</li>
</ul>
<h5
	id="entt" >
    Entt
</h5>
<ul>
	<li>
		<p>
			<a
				href="https://github.com/skypjack/entt" 
				class="external-link" 
				target="_blank" >
                Entt
			</a>
            .
		</p>
	</li>
</ul>
<h5
	id="flecs" >
    Flecs
</h5>
<ul>
	<li>
		<p>
			<a
				href="https://github.com/SanderMertens/flecs" 
				class="external-link" 
				target="_blank" >
                Flecs
			</a>
            .
		</p>
		<ul>
			<li>
				<p>
					<a
						href="https://github.com/SanderMertens/flecs?tab=readme-ov-file#language-bindings" 
						class="external-link" 
						target="_blank" >
                        Bindings
					</a>
                    .
				</p>
				<ul>
					<li>
						<p>
                            C#.
						</p>
					</li>
					<li>
						<p>
                            Rust.
						</p>
					</li>
					<li>
						<p>
                            Zig.
						</p>
					</li>
					<li>
						<p>
                            Lua.
						</p>
					</li>
				</ul>
			</li>
		</ul>
	</li>
</ul>
<h3
	id="ecs-in-godot" >
    ECS in Godot
</h3>
<ul>
	<li>
		<p>
			<a
				href="https://godotengine.org/article/why-isnt-godot-ecs-based-game-engine/" 
				class="external-link" 
				target="_blank" >
                Why isn't Godot an ECS-based game engine?
			</a>
            .
		</p>
	</li>
	<li>
		<p>
            ECS is a design pattern commonly used in video games (although not very common in the rest of the software industry) which consists of having a base Entity (a container object) and Components that can be added upon it. Components provide data and the means to interact with the whole world. Finally, Systems work independently and act on every similar component.
		</p>
	</li>
	<li>
		<p>
            This design became common in game engines and libraries in the early 2010s. The main appeal (besides architecture) is that component data can be placed in contiguous memory, improving cache access.
		</p>
	</li>
	<li>
		<p>
            This is a common form of 
			<a
				href="https://en.wikipedia.org/wiki/Data-oriented_design" 
				class="external-link" 
				target="_blank" >
                data-oriented
			</a>
            &nbsp;optimization.
		</p>
	</li>
	<li>
		<p>
            Architecturally, ECS aims to replace 
			<a
				href="https://en.wikipedia.org/wiki/Inheritance_(object-oriented_programming)" 
				class="external-link" 
				target="_blank" >
                inheritance
			</a>
            , by favoring composition, similar to how 
			<em>
                interfaces
			</em>
            &nbsp;or 
			<em>
                multiple inheritance
			</em>
            &nbsp;works in OOP.
		</p>
	</li>
	<li>
		<p>
            The key advantage in ECS is that components are 
			<em>
                dynamic
			</em>
            &nbsp;(can be added or removed at runtime).
		</p>
	</li>
	<li>
		<p>
            Godot does composition at a higher level than in a traditional ECS.
		</p>
	</li>
	<li>
		<p>
            One of the biggest advantages of ECS is the Systems (data-oriented) part, which allows running through a lot of similar components' data organized in linear memory.
		</p>
		<ul>
			<li>
				<p>
                    This brings huge performance improvements over the way Godot works with nodes.
				</p>
			</li>
		</ul>
	</li>
	<li>
		<p>
            % Most (if not all) technologies that utilize ECS do it at the core engine level, by serving as the base architecture and building everything else (physics, rendering, audio, etc.) over it.
		</p>
	</li>
	<li>
		<p>
            Godot instead keeps those subsystems separate and isolated (and they fit inside of 
			<a
				href="https://godotengine.org/article/why-does-godot-use-servers-and-rids" 
				class="external-link" 
				target="_blank" >
				<em>
                    Servers
				</em>
			</a>
            ).
		</p>
		<ul>
			<li>
				<p>
                    I find this makes code simpler and easier to maintain and optimize.
				</p>
			</li>
		</ul>
	</li>
	<li>
		<p>
            To put it simply, nodes are just interfaces to the actual data being processed inside servers, while in ECS the actual entities are what gets processed by the systems.
		</p>
		<ul>
			<li>
				<p>
                    As I understood it: Nodes seem to create a layer of abstraction over Systems, because they are very low-level.
				</p>
			</li>
		</ul>
	</li>
	<li>
		<p>
            In other words, Godot as an engine tries to take the burden of 
			<em>
                processing
			</em>
            &nbsp;away from the user, and instead places the focus on 
			<em>
                deciding
			</em>
            &nbsp;what to do in case of an event. This ensures users have to optimize 
			<em>
                less
			</em>
            &nbsp;in order to write much of the game code, and is part of the vision Godot conveys about what should constitute an 
			<em>
                easy to use game engine
			</em>
            .
		</p>
	</li>
	<li>
		<p>
            These are generally games that need to process game logic on dozens of thousands of objects, where data-oriented optimizations become necessary, as the amount of pages moved into CPU cache increases by several orders of magnitude, severely affecting performance (and battery usage on mobile devices).
		</p>
		<ul>
			<li>
				<p>
                    City builders (lots of things going on).
				</p>
			</li>
			<li>
				<p>
                    Sandboxes (lots of tiny things need processing every frame).
				</p>
			</li>
			<li>
				<p>
                    Some strategy games (while not the majority, some can use thousands or tens of thousands of units at the same time).
				</p>
			</li>
			<li>
				<p>
                    Other AAA games with lots of content going on.
				</p>
			</li>
		</ul>
	</li>
</ul>

					</div>
					<footer
						id="previous-next" >
						<a
							href="/studies/Design/Design - DOD e COP/Design - DOD e COP.html" >
                            &nbsp;&lsaquo; Previous
						</a>
						<a
							href="/studies/Design/Design - Design Patterns/Design - Design Patterns.html" >
                            Next &rsaquo; 
						</a>
					</footer>
				</article>
			</main>
			<footer
				id="central-footer" >
                🧑‍💻 built by and copyright
				<a
					href="https://github.com/caioraphael1" 
					target="_blank" >
                    Caio Raphael
				</a>
                📅 2025-10-21 .&nbsp;&nbsp;2025-10-31 🚀
			</footer>
		</div>
		<aside
			id="right-sidebar" >
			<nav
				id="table-of-contents" >
				<strong>
                    On this page
				</strong>
				<ul>
					<ul>
						<li>
							<a
								href="#about" >
                                About
							</a>
						</li>
						<li>
							<a
								href="#construction" >
                                Construction
							</a>
						</li>
						<li>
							<a
								href="#concepts" >
                                Concepts
							</a>
						</li>
						<li>
							<a
								href="#implementations" >
                                Implementations
							</a>
						</li>
						<li>
							<a
								href="#examples" >
                                Examples
							</a>
						</li>
						<li>
							<a
								href="#frameworks" >
                                Frameworks
							</a>
						</li>
						<li>
							<a
								href="#ecs-in-godot" >
                                ECS in Godot
							</a>
						</li>
					</ul>
				</ul>
			</nav>
		</aside>
		<script
			src="/static/studies.js" >
		</script>
	</body>
</html>
