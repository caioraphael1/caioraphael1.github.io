<!doctype html>
<html
	lang="en" >
	<head>
		<title>
            Caio Raphael
		</title>
		<meta
			charset="utf-8" >
		<meta
			name="viewport" 
			content="width=device-width, initial-scale=1" >
		<meta
			name="description" 
			content="Senior Game Developer, Engine Developer, Low-Level Network, Low-Level Systems, Physicist" >
		<meta
			name="author" 
			content="Caio Raphael" >
		<meta
			name="theme-color" 
			content="#ffffff" 
			media="(prefers-color-scheme: light)" >
		<meta
			name="theme-color" 
			content="#101010" 
			media="(prefers-color-scheme: dark)" >
		<link
			rel="icon" 
			href="/assets/icon.ico" >
		<link
			rel="icon" 
			href="/assets/icon-16x16.png" 
			sizes="16x16" 
			type="image/png" >
		<link
			rel="icon" 
			href="/assets/icon-32x32.png" 
			sizes="32x32" 
			type="image/png" >
		<script>
window.MathJax = {
                tex: {
                    inlineMath: [['$', '$']],
                    displayMath: [['$$', '$$']]
                }
                };
		</script>
		<script
			src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" >
		</script>
		<script
			type="module" >

                    import hljs from 'https://unpkg.com/@highlightjs/cdn-assets@11.11.1/es/highlight.min.js';
                    import hljs_odin from 'https://unpkg.com/highlightjs-odinlang@1.4.0/dist/odin.es.min.js';
                    import hljs_glsl from 'https://unpkg.com/@highlightjs/cdn-assets@11.11.1/es/languages/glsl.min.js';
                    import hljs_swift  from 'https://unpkg.com/@highlightjs/cdn-assets@11.11.1/es/languages/swift.min.js';
                    hljs.registerLanguage('odin', hljs_odin);
                    hljs.registerLanguage('glsl', hljs_glsl);
                    hljs.registerLanguage('gdscript', hljs_swift);
                    hljs.highlightAll();
                
		</script>
		<link
			rel="stylesheet" 
			href="/static/studies.29354.css" >
	</head>
	<body>
		<aside
			id="left-sidebar-wrapper" >
			<div
				id="left-sidebar" >
				<header>
					<a
						href="/" 
						class="site-logo" >
                        Caio Raphael
					</a>
					<p
						class="breadcrums-division" >
                        /
					</p>
					<a
						href="/studies/_index.html" 
						class="breadcrumbs-studies" >
                        Studies
					</a>
				</header>
				<nav>
					<details
						open="">
						<summary>
                            Odin
						</summary>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Odin/Odin-overview.html" >
                                    Overview
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Odin/Odin-my-impressions.html" >
                                    My Impressions
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Odin/Odin-installation.html" >
                                    Installation
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Odin/Odin-building.html" >
                                    Building
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Odin/Odin-compile-time-stuff.html" >
                                    Compile-time Stuff
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Odin/Odin-package-system.html" >
                                    Package System
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Odin/Odin-lsp-ols-odin-language-server.html" >
                                    LSP (OLS - Odin Language Server)
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Odin/Odin-operations.html" >
                                    Operations
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Odin/Odin-control-flow-if-when-switch-for-defer.html" >
                                    Control Flow (if, when, switch, for, defer)
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Odin/Odin-procedures.html" >
                                    Procedures
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Odin/Odin-typing.html" >
                                    Typing
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Odin/Odin-any.html" >
                                    any
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Odin/Odin-primitive-types.html" >
                                    Primitive Types
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Odin/Odin-matrix.html" >
                                    Matrix
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Odin/Odin-quaternion.html" >
                                    Quaternion
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Odin/Odin-complex.html" >
                                    Complex
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Odin/Odin-strings.html" >
                                    Strings
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Odin/Odin-rune.html" >
                                    Rune
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Odin/Odin-maps-hash-maps.html" >
                                    Maps (Hash Maps)
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Odin/Odin-struct.html" >
                                    Struct
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Odin/Odin-enum.html" >
                                    Enum
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Odin/Odin-union.html" >
                                    Union
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Odin/Odin-bit-sets.html" >
                                    Bit Sets
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="active" 
									href="/studies/Low-Level Systems/Odin/Odin-arrays.html" >
                                    Arrays
								</a>
								<ul>
									<li>
										<a
											href="#common-operations" >
                                            Common Operations
										</a>
										<ul>
										</ul>
									</li>
									<li>
										<a
											href="#fixed-arrays-codent-code" >
                                            Fixed Arrays (<code>[n]T</code>)
										</a>
										<ul>
											<li>
												<a
													href="#creation-and-assigning" >
                                                    Creation and Assigning
												</a>
											</li>
											<li>
												<a
													href="#iterate" >
                                                    Iterate
												</a>
											</li>
											<li>
												<a
													href="#copy" >
                                                    Copy
												</a>
											</li>
										</ul>
									</li>
									<li>
										<a
											href="#fixed-arrays-small-array" >
                                            Fixed Arrays - Small Array
										</a>
										<ul>
										</ul>
									</li>
									<li>
										<a
											href="#fixed-arrays-enumerated-arrays-codeenumint-code" >
                                            Fixed Arrays - Enumerated Arrays (<code>[enum]int</code>)
										</a>
										<ul>
											<li>
												<a
													href="#create" >
                                                    Create
												</a>
											</li>
											<li>
												<a
													href="#access" >
                                                    Access
												</a>
											</li>
										</ul>
									</li>
									<li>
										<a
											href="#slices-codet-code" >
                                            Slices (<code>[]T</code>)
										</a>
										<ul>
											<li>
												<a
													href="#creation" >
                                                    Creation
												</a>
											</li>
											<li>
												<a
													href="#batch-assignment" >
                                                    Batch assignment
												</a>
											</li>
											<li>
												<a
													href="#destruction" >
                                                    Destruction
												</a>
											</li>
											<li>
												<a
													href="#access-range" >
                                                    Access range
												</a>
											</li>
											<li>
												<a
													href="#memory" >
                                                    Memory
												</a>
											</li>
										</ul>
									</li>
									<li>
										<a
											href="#dynamic-arrays-codedynamict-code" >
                                            Dynamic Arrays (<code>[dynamic]T</code>)
										</a>
										<ul>
											<li>
												<a
													href="#creation" >
                                                    Creation
												</a>
											</li>
											<li>
												<a
													href="#destruction" >
                                                    Destruction
												</a>
											</li>
											<li>
												<a
													href="#clear" >
                                                    Clear
												</a>
											</li>
											<li>
												<a
													href="#appending" >
                                                    Appending
												</a>
											</li>
											<li>
												<a
													href="#iterate" >
                                                    Iterate
												</a>
											</li>
											<li>
												<a
													href="#memory" >
                                                    Memory
												</a>
											</li>
										</ul>
									</li>
									<li>
										<a
											href="#multi-pointer-c-arrays-codet-code" >
                                            Multi-pointer (C Arrays) (<code>[^]T</code>)
										</a>
										<ul>
											<li>
												<a
													href="#operations" >
                                                    Operations
												</a>
											</li>
											<li>
												<a
													href="#re-allocating" >
                                                    Re-allocating
												</a>
											</li>
											<li>
												<a
													href="#raw_data" >
                                                    raw_data()
												</a>
											</li>
											<li>
												<a
													href="#discussion" >
                                                    Discussion
												</a>
											</li>
										</ul>
									</li>
								</ul>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Odin/Odin-interfaces-methods-vtables.html" >
                                    Interfaces / Methods / VTables
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Odin/Odin-error-handling.html" >
                                    Error Handling
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Odin/Odin-context.html" >
                                    Context
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Odin/Odin-memory.html" >
                                    Memory
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Odin/Odin-memory-address.html" >
                                    Memory: Address
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Odin/Odin-memory-allocators.html" >
                                    Memory: Allocators
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Odin/Odin-memory-operations.html" >
                                    Memory: Operations
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Odin/Odin-entry-point.html" >
                                    Entry Point
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Odin/Odin-multi-threading.html" >
                                    Multi-Threading
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Odin/Odin-simd.html" >
                                    SIMD
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Odin/Odin-directives.html" >
                                    Directives
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Odin/Odin-ffi-foreign-function-interface-bindings.html" >
                                    FFI (Foreign Function Interface) / Bindings
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Odin/Odin-web-build.html" >
                                    Web Build
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Odin/Odin-file-system-process-cli-shell.html" >
                                    File System / Process / CLI / Shell
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Odin/Odin-useful-packages.html" >
                                    Useful Packages
								</a>
							</li>
						</ul>
					</details>
					<details
>
						<summary>
                            Memory
						</summary>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Memory/Memory-virtual-memory.html" >
                                    Virtual Memory
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Memory/Memory-os-memory-on-windows.html" >
                                    OS: Memory on Windows
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Memory/Memory-memory-alignment.html" >
                                    Memory Alignment
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Memory/Memory-address.html" >
                                    Address
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Memory/Memory-allocators.html" >
                                    Allocators
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Memory/Memory-tools-memory-analysis.html" >
                                    Tools: Memory Analysis
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Memory/Memory-handles-instead-of-pointers.html" >
                                    Handles instead of Pointers
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Memory/Memory-ownership-strategies-destruction-strategies.html" >
                                    Ownership Strategies / Destruction Strategies
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Memory/Memory-strategies-for-handling-short-lived-memory.html" >
                                    Strategies for handling short lived memory
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Memory/Memory-garbage-collection.html" >
                                    Garbage Collection
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Memory/Memory-initialization.html" >
                                    Initialization
								</a>
							</li>
						</ul>
					</details>
					<details
>
						<summary>
                            CPU
						</summary>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/CPU/CPU-concepts.html" >
                                    Concepts
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/CPU/CPU-physical-structure.html" >
                                    Physical Structure
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/CPU/CPU-cache.html" >
                                    Cache
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/CPU/CPU-soa-struct-of-arrays-ecs-entity-component-system.html" >
                                    SOA (Struct Of Arrays) / ECS (Entity Component System)
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/CPU/CPU-simd.html" >
                                    SIMD
								</a>
							</li>
						</ul>
					</details>
					<details
>
						<summary>
                            Multithreading
						</summary>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Multithreading/Multithreading-core-concepts.html" >
                                    Core Concepts
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Multithreading/Multithreading-thread.html" >
                                    Thread
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Multithreading/Multithreading-strategies.html" >
                                    Strategies
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Multithreading/Multithreading-implementation-detail.html" >
                                    Implementation Detail
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Multithreading/Multithreading-synchronization-primitives.html" >
                                    Synchronization Primitives
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Multithreading/Multithreading-double-buffering.html" >
                                    Double-Buffering
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Multithreading/Multithreading-networking-strategies.html" >
                                    Networking Strategies
								</a>
							</li>
						</ul>
					</details>
					<details
>
						<summary>
                            Handmade Hero
						</summary>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Handmade Hero/Handmade Hero-handmade-hero.html" >
                                    Handmade Hero
								</a>
							</li>
						</ul>
					</details>
					<details
>
						<summary>
                            Profilers
						</summary>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Profilers/Profilers-tracy.html" >
                                    Tracy
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Profilers/Profilers-spall.html" >
                                    Spall
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Profilers/Profilers-nvidia-nsight-graphics-gpu-trace.html" >
                                    Nvidia Nsight Graphics - GPU Trace
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Profilers/Profilers-amd-gpu-profiler-amd-rgp.html" >
                                    AMD GPU Profiler (AMD RGP)
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Profilers/Profilers-intel-gpa.html" >
                                    Intel GPA
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Profilers/Profilers-nsight-systems.html" >
                                    <s>Nsight Systems</s>
								</a>
							</li>
						</ul>
					</details>
					<details
>
						<summary>
                            C
						</summary>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/C-basic.html" >
                                    Basic
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/C-critiques.html" >
                                    Critiques
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/C-c-standard.html" >
                                    C Standard
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/C-c-standard-library-libc.html" >
                                    C Standard Library (libc)
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/C-building.html" >
                                    Building
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/C-memory.html" >
                                    Memory
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/C-loops.html" >
                                    Loops
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/C-strings.html" >
                                    Strings
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/C-structs.html" >
                                    Structs
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/C-pointers.html" >
                                    Pointers
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/C-arrays.html" >
                                    Arrays
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/C-preprocessors.html" >
                                    Preprocessors
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/C-undefined-behavior.html" >
                                    Undefined Behavior
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/C-game-dev.html" >
                                    Game Dev
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/C-windows-c-api.html" >
                                    WIndows C API
								</a>
							</li>
						</ul>
					</details>
					<details
>
						<summary>
                            Build Systems - Compilation - Linking
						</summary>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Build Systems - Compilation - Linking/Build Systems - Compilation - Linking-compilation-process.html" >
                                    Compilation Process
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Build Systems - Compilation - Linking/Build Systems - Compilation - Linking-linker.html" >
                                    Linker
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Build Systems - Compilation - Linking/Build Systems - Compilation - Linking-compilers.html" >
                                    Compilers
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Build Systems - Compilation - Linking/Build Systems - Compilation - Linking-build-tools.html" >
                                    Build Tools
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Build Systems - Compilation - Linking/Build Systems - Compilation - Linking-meta-build-tools.html" >
                                    Meta Build Tools
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Build Systems - Compilation - Linking/Build Systems - Compilation - Linking-extra-annoying-things-on-windows.html" >
                                    Extra: Annoying things on Windows
								</a>
							</li>
						</ul>
					</details>
					<details
>
						<summary>
                            Debuggers
						</summary>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Debuggers-file-types.html" >
                                    File Types
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Debuggers-rad-debbuger.html" >
                                    RAD Debbuger
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Debuggers-gdb-gnu-debugger.html" >
                                    GDB (GNU Debugger)
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Debuggers-lldb.html" >
                                    LLDB
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Debuggers-vscode.html" >
                                    VSCode
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Debuggers-visual-studio-debugger.html" >
                                    Visual Studio Debugger
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Debuggers-others.html" >
                                    Others
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Debuggers-web.html" >
                                    Web
								</a>
							</li>
						</ul>
					</details>
					<details
>
						<summary>
                            Assembly - ASM
						</summary>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Assembly/Assembly - ASM-notes.html" >
                                    Notes
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Assembly/Assembly - ASM-operations.html" >
                                    Operations
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Assembly/Assembly - ASM-reverse-engineering.html" >
                                    Reverse Engineering
								</a>
							</li>
						</ul>
					</details>
					<details
>
						<summary>
                            Parsing
						</summary>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Parsing-parsing.html" >
                                    Parsing
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Parsing-lexer.html" >
                                    Lexer
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Parsing-tools.html" >
                                    Tools
								</a>
							</li>
						</ul>
					</details>
					<details
>
						<summary>
                            JAI
						</summary>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/JAI-about.html" >
                                    About
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/JAI-build.html" >
                                    Build
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/JAI-types.html" >
                                    Types
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/JAI-meta-programming.html" >
                                    Meta programming
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/JAI-control-flow.html" >
                                    Control flow
								</a>
							</li>
						</ul>
					</details>
					<details
>
						<summary>
                            Serialization - Encoding
						</summary>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Serialization - Encoding/Serialization - Encoding-serialization.html" >
                                    Serialization
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Low-Level Systems/Serialization - Encoding/Serialization - Encoding-encoding.html" >
                                    Encoding
								</a>
							</li>
						</ul>
					</details>
				</nav>
			</div>
		</aside>
		<main
			id="central-wrapper" >
			<main
				id="note-wrapper" >
				<header
					id="note-header" >
					<h1>
                        Arrays
					</h1>
					<p>
						<time
							datetime="2025-03-28" >
                            ðŸ•’ Created: 2025-03-28
						</time>
						<time
							datetime="2026-02-08" >
                            | Updated: 2026-02-08
						</time>
					</p>
				</header>
				<article
					id="note-content" >
<h5
	id="alternatives" >
    Alternatives
</h5>
<ul>
	<li>
		<p>
            kit !!:
		</p>
		<ul>
			<li>
				<p>
                    &quot;you might want to consider just using a hashset, if the order isn't important and the array is relatively large&quot;.
				</p>
			</li>
		</ul>
	</li>
	<li>
		<p>
            Karl Zylinski:
		</p>
		<ul>
			<li>
				<p>
                    It's usually a sign of poor design. Better have an index or handle around and remove using index directly. Any time my code removes by finding the index by element value, then it is a code smell to me.
				</p>
			</li>
			<li>
				<p>
                    Caio: but every time the array shifts, all indexes stored would have to be updated, no? and what would you use as a handle in this case?
				</p>
			</li>
			<li>
				<p>
                    Don't remove stuff. Use a free list.
				</p>
			</li>
		</ul>
	</li>
</ul>
<h3
	id="common-operations" >
    Common Operations
</h3>
<h5
	id="removing" >
    Removing
</h5>
<ul>
	<li>
		<p>
			<a
				href="https://pkg.odin-lang.org/base/runtime/#unordered_remove" 
				class="external-link" 
				target="_blank" >
                <code>unordered_remove</code>
			</a>
            .
		</p>
		<ul>
			<li>
				<p>
                    Faster, but can change the order of elements.
				</p>
			</li>
		</ul>
<pre><code class="language-odin" data-lang="odin">unordered_remove(&dyn_arr, idx)
</code></pre>
	</li>
	<li>
		<p>
			<a
				href="https://pkg.odin-lang.org/base/runtime/#ordered_remove" 
				class="external-link" 
				target="_blank" >
                <code>ordered_remove</code>
			</a>
            .
		</p>
		<ul>
			<li>
				<p>
                    Doesn't change the order of elements.
				</p>
			</li>
		</ul>
<pre><code class="language-odin" data-lang="odin">ordered_remove(&dyn_arr, idx)
</code></pre>
	</li>
</ul>
<h5
	id="info" >
    Info
</h5>
<ul>
	<li>
		<p>
			<a
				href="https://pkg.odin-lang.org/base/builtin/#len" 
				class="external-link" 
				target="_blank" >
                <code>len</code>
			</a>
            .
		</p>
		<ul>
			<li>
				<p>
                    The 
                    <code>len</code>
                    &nbsp;built-in procedure returns the length of 
                    <code>v</code>
                    &nbsp;according to its type:
				</p>
				<ul>
					<li>
						<p>
                            Array: the number of elements in v.
						</p>
					</li>
					<li>
						<p>
                            Pointer to (any) array: the number of elements in 
                            <code>v^</code>
                            &nbsp;(even if 
                            <code>v</code>
                            &nbsp;is 
                            <code>nil</code>
                            ).
						</p>
					</li>
					<li>
						<p>
                            Slice, dynamic array, or map: the number of elements in 
                            <code>v</code>
                            ; if 
                            <code>v</code>
                            &nbsp;is 
                            <code>nil</code>
                            , 
                            <code>len(v)</code>
                            &nbsp;is zero.
						</p>
					</li>
					<li>
						<p>
                            String: the number of bytes in 
                            <code>v</code>
						</p>
					</li>
					<li>
						<p>
                            Enumerated array: the number elements in v.
						</p>
					</li>
					<li>
						<p>
                            Enum type: the number of enumeration fields.
						</p>
					</li>
					<li>
						<p>
                            <code>#soa</code>
                            &nbsp;array: the number of elements in 
                            <code>v</code>
                            ; if 
                            <code>v</code>
                            &nbsp;is 
                            <code>nil</code>
                            , 
                            <code>len(v)</code>
                            &nbsp;is zero.
						</p>
					</li>
					<li>
						<p>
                            <code>#simd</code>
                            &nbsp;vector: the number of elements in 
                            <code>v</code>
                            .
						</p>
					</li>
				</ul>
			</li>
			<li>
				<p>
                    For some arguments, such as a string literal or a simple array expression, the result can be constant.
				</p>
			</li>
		</ul>
	</li>
	<li>
		<p>
			<a
				href="https://pkg.odin-lang.org/base/builtin/#cap" 
				class="external-link" 
				target="_blank" >
                <code>cap</code>
			</a>
            .
		</p>
		<ul>
			<li>
				<p>
                    The 
                    <code>cap</code>
                    &nbsp;built-in procedure returns the length of 
                    <code>v</code>
                    &nbsp;according to its type:
				</p>
				<ul>
					<li>
						<p>
                            Array: the number of elements in v.
						</p>
					</li>
					<li>
						<p>
                            Pointer to (any) array: the number of elements in 
                            <code>v^</code>
                            &nbsp;(even if 
                            <code>v</code>
                            &nbsp;is 
                            <code>nil</code>
                            ).
						</p>
					</li>
					<li>
						<p>
                            Dynamic array, or map: the reserved number of elements in 
                            <code>v</code>
                            ; if 
                            <code>v</code>
                            &nbsp;is 
                            <code>nil</code>
                            , 
                            <code>len(v)</code>
                            &nbsp;is zero.
						</p>
					</li>
					<li>
						<p>
                            Enum type: equal to 
                            <code>max(Enum)-min(Enum)+1</code>
                            .
						</p>
					</li>
					<li>
						<p>
                            <code>#soa</code>
                            &nbsp;dynamic array: the reserved number of elements in 
                            <code>v</code>
                            ; if 
                            <code>v</code>
                            &nbsp;is 
                            <code>nil</code>
                            , 
                            <code>len(v)</code>
                            &nbsp;is zero.
						</p>
					</li>
				</ul>
			</li>
			<li>
				<p>
                    For some arguments, such as a string literal or a simple array expression, the result can be constant.
				</p>
			</li>
		</ul>
	</li>
</ul>
<h3
	id="fixed-arrays-codent-code" >
    Fixed Arrays (
    <code>[n]T</code>
    )
</h3>
<ul>
	<li>
		<p>
			<a
				href="https://odin-lang.org/docs/overview/#fixed-arrays" 
				class="external-link" 
				target="_blank" >
                Fixed Arrays
			</a>
            .
		</p>
	</li>
	<li>
		<p>
			<em>
                Similarity to structs
			</em>
            :
		</p>
		<ul>
			<li>
				<p>
                    Fixed arrays are equivalent to a struct with a field for each element.
				</p>
			</li>
			<li>
				<p>
                    They are just a number of values in a row in memory.
				</p>
			</li>
		</ul>
	</li>
</ul>
<h4
	id="creation-and-assigning" >
    Creation and Assigning
</h4>
<pre><code class="language-odin" data-lang="odin">some_ints: [7]int
</code></pre>
<pre><code class="language-odin" data-lang="odin">// With inferred size.
some_ints := [?]int{1, 2, 3, 4, 5}

favorite_animals := [?]string{
&nbsp;&nbsp;&nbsp;&nbsp;// Assign by index
&nbsp;&nbsp;&nbsp;&nbsp;0 = "Raven",
&nbsp;&nbsp;&nbsp;&nbsp;1 = "Zebra",
&nbsp;&nbsp;&nbsp;&nbsp;2 = "Spider",
&nbsp;&nbsp;&nbsp;&nbsp;// Assign by range of indices
&nbsp;&nbsp;&nbsp;&nbsp;3..=5 = "Frog",
&nbsp;&nbsp;&nbsp;&nbsp;6..&lt;8 = "Cat"
}
</code></pre>
<pre><code class="language-odin" data-lang="odin">some_ints[0] = 5
some_ints[3] = 40
</code></pre>
<pre><code class="language-odin" data-lang="odin">some_ints = {5, 4, 3, 1, 2, 98, 100}
&nbsp;&nbsp;&nbsp;&nbsp;// Since the size is defined as 7, 7 elements must be given.
</code></pre>
<pre><code class="language-odin" data-lang="odin">x := [5]int{1, 2, 3, 4, 5}
for i in 0..=4 {
&nbsp;&nbsp;&nbsp;&nbsp;fmt.println(x[i])
}
</code></pre>
<h4
	id="iterate" >
    Iterate
</h4>
<pre><code class="language-odin" data-lang="odin">for element in some_ints {
&nbsp;&nbsp;&nbsp;&nbsp;
}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</code></pre>
<pre><code class="language-odin" data-lang="odin">for element, idx in some_ints {
&nbsp;&nbsp;&nbsp;&nbsp;
}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</code></pre>
<pre><code class="language-odin" data-lang="odin">for &element in some_ints {
&nbsp;&nbsp;&nbsp;&nbsp;element *= 2
}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</code></pre>
<h4
	id="copy" >
    Copy
</h4>
<pre><code class="language-odin" data-lang="odin">some_ints: [3]f32 = {1, 2, 3}
some_ints2 := some_ints
</code></pre>
<ul>
	<li>
		<p>
            Modifying array 2 will not modify array 1, and vice versa.
		</p>
	</li>
	<li>
		<p>
            &quot;No shared memory between fixed arrays&quot;.
		</p>
	</li>
</ul>
<h3
	id="fixed-arrays-small-array" >
    Fixed Arrays - Small Array
</h3>
<ul>
	<li>
		<p>
			<a
				href="https://pkg.odin-lang.org/core/container/small_array/#Small_Array" 
				class="external-link" 
				target="_blank" >
                Small_Array
			</a>
            .
		</p>
	</li>
	<li>
		<p>
            Pretty neat.
		</p>
	</li>
	<li>
		<p>
            Basically it's a Fixed Array with an API similar to a Dynamic Array.
		</p>
	</li>
	<li>
		<p>
            I found it really cool.
		</p>
	</li>
	<li>
		<p>
            The 
            <code>Skeleton</code>
            &nbsp;uses this, as a reference.
		</p>
	</li>
</ul>
<h3
	id="fixed-arrays-enumerated-arrays-codeenumint-code" >
    Fixed Arrays - Enumerated Arrays (
    <code>[enum]int</code>
    )
</h3>
<ul>
	<li>
		<p>
            Think of it as a Fixed Array.
		</p>
	</li>
	<li>
		<p>
            Even though we don't supply the size, the array will be the size of the enum.
		</p>
	</li>
</ul>
<h4
	id="create" >
    Create
</h4>
<pre><code class="language-odin" data-lang="odin">// Enum
Nice_People :: enum {
&nbsp;&nbsp;&nbsp;&nbsp;Bob,
&nbsp;&nbsp;&nbsp;&nbsp;Klucke,
&nbsp;&nbsp;&nbsp;&nbsp;Tim
}

// Method 1
nice_rating := [Nice_People]int {
&nbsp;&nbsp;&nbsp;&nbsp;.Bob = 5,
&nbsp;&nbsp;&nbsp;&nbsp;.Klucke = 7,
&nbsp;&nbsp;&nbsp;&nbsp;.Tim = 3,
}

// Method 2: all zeroes
nice_rating := [Nice_People]int 

// Method 3: partial initialization
nice_rating := #partial [Nice_People]int {
&nbsp;&nbsp;&nbsp;&nbsp;.Klucke = 7,
}
</code></pre>
<h4
	id="access" >
    Access
</h4>
<pre><code class="language-odin" data-lang="odin">bob_niceness := nice_rating[.Bob]
</code></pre>
<h3
	id="slices-codet-code" >
    Slices (
    <code>[]T</code>
    )
</h3>
<ul>
	<li>
		<p>
			<a
				href="https://odin-lang.org/docs/overview/#slices" 
				class="external-link" 
				target="_blank" >
                Slices
			</a>
            .
		</p>
	</li>
	<li>
		<p>
			<a
				href="https://odin-lang.org/docs/overview/#making-and-deleting-slices-and-dynamic-arrays" 
				class="external-link" 
				target="_blank" >
                Making and deleting slices
			</a>
            .
		</p>
	</li>
	<li>
		<p>
			<a
				href="https://pkg.odin-lang.org/core/slice/" 
				class="external-link" 
				target="_blank" >
                <code>core:slices</code>
			</a>
            .
		</p>
	</li>
	<li>
		<p>
			<a
				href="https://pkg.odin-lang.org/base/runtime/#Raw_Slice" 
				class="external-link" 
				target="_blank" >
                <code>Raw_Slice</code>
			</a>
            .
		</p>
	</li>
</ul>
<h4
	id="creation" >
    Creation
</h4>
<ul>
	<li>
		<p>
			<strong>
                Via Fixed Array
			</strong>
            :
		</p>
<pre><code class="language-odin" data-lang="odin">a := [7]int{ 5, 4, 3, 1, 2, 98, 100 } 
&nbsp;&nbsp;&nbsp;&nbsp;// Left side:&nbsp;&nbsp;Fixed Array.
&nbsp;&nbsp;&nbsp;&nbsp;// Right side: Array Literal.
b := a[2:5]
&nbsp;&nbsp;&nbsp;&nbsp;// Left side: Slice.
</code></pre>
	</li>
	<li>
		<p>
			<strong>
                Via Slice Literal
			</strong>
            :
		</p>
		<ul>
			<li>
				<p>
                    Implicitly creates a stack fixed array, and then get a reference to it.
				</p>
			</li>
		</ul>
<pre><code class="language-odin" data-lang="odin">a := []int{ 1, 6, 3 } 
&nbsp;&nbsp;&nbsp;&nbsp;// Left side:&nbsp;&nbsp;Slice.
&nbsp;&nbsp;&nbsp;&nbsp;// Right side: Slice Literal.
</code></pre>
	</li>
	<li>
		<p>
			<strong>
                Zero valued
			</strong>
            :
		</p>
		<ul>
			<li>
				<p>
                    The zero value of a slice is 
                    <code>nil</code>
                    . A nil slice has a length of 0 and does not point to any underlying memory. Slices can be compared against 
                    <code>nil</code>
                    &nbsp;and nothing else.
				</p>
			</li>
		</ul>
<pre><code class="language-odin" data-lang="odin">a: []int
if a == nil {
&nbsp;&nbsp;&nbsp;&nbsp;fmt.println("a is nil!")
}
</code></pre>
	</li>
	<li>
		<p>
			<strong>
                Via 
                <code>rawptr</code>
                &nbsp;and length
			</strong>
            :
		</p>
		<ul>
			<li>
				<p>
                    From 
                    <code>base:runtime</code>
                    &nbsp;-&gt; 
                    <code>internal.odin</code>
				</p>
			</li>
		</ul>
<pre><code class="language-odin" data-lang="odin">@(private)
byte_slice :: #force_inline proc "contextless" (data: rawptr, len: int) -&gt; []byte #no_bounds_check {
Â  Â  return ([^]byte)(data)[:max(len, 0)]
}
</code></pre>
	</li>
</ul>
<h4
	id="batch-assignment" >
    Batch assignment
</h4>
<ul>
	<li>
		<p>
			<strong>
                Heap allocated slice
			</strong>
            :
		</p>
		<ul>
			<li>
				<p>
					<strong>
                        NOT WHAT YOU WANT
					</strong>
                    :
				</p>
<pre><code class="language-odin" data-lang="odin">a := make([]int, 4, context.allocator)
a = { 10, 20, 30, 40 } 
</code></pre>
				<ul>
					<li>
						<p>
                            This replaces the heap allocated slice with a stack slice.
						</p>
					</li>
				</ul>
			</li>
			<li>
				<p>
					<em>
                        Using 
                        <code>copy</code>
					</em>
                    :
				</p>
<pre><code class="language-odin" data-lang="odin">a := make([]int, 4, context.allocator)
copy(a, []int{ 10, 20, 30, 40 })
</code></pre>
			</li>
			<li>
				<p>
					<em>
                        Using 
                        <code>slice.clone</code>
					</em>
                    :
				</p>
<pre><code class="language-odin" data-lang="odin">a := slice.clone([]int{ 10, 20, 30, 40 }, context.allocator)
</code></pre>
			</li>
		</ul>
	</li>
</ul>
<h4
	id="destruction" >
    Destruction
</h4>
<ul>
	<li>
		<p>
            You only need to delete the slice 
			<strong>
                if
			</strong>
            &nbsp;the underlying value is heap allocated.
		</p>
	</li>
	<li>
		<p>
            You could delete the original 
            <code>[dynamic]int</code>
            &nbsp;or the 
            <code>[]int</code>
            ; both will delete the same memory.
		</p>
	</li>
</ul>
<pre><code class="language-odin" data-lang="odin">a := make([dynamic]int, context.allocator)
b := a[:]
delete(b)
&nbsp;&nbsp;&nbsp;&nbsp;// Will delete the underlying memory of `a` and `b`, as both point to heap memory.

// or

a := make([]int, context.allocator)
delete(a)
</code></pre>
<h4
	id="access-range" >
    Access range
</h4>
<pre><code class="language-odin" data-lang="odin">// Everything
a[:]

// From idx 3 to the end
a[3:]

// From start to idx 5
a[:5]
</code></pre>
<h4
	id="memory" >
    Memory
</h4>
<ul>
	<li>
		<p>
            Their length is 
			<strong>
                not
			</strong>
            &nbsp;known at compile-time.
		</p>
	</li>
	<li>
		<p>
            Slices are like references to arrays; they do not store any data.
		</p>
		<ul>
			<li>
				<p>
                    Internally, a slice stores a pointer to the data and an integer to store the length of the slice.
				</p>
			</li>
			<li>
				<p>
                    &quot;A window into the array&quot;.
				</p>
			</li>
		</ul>
	</li>
	<li>
		<p>
            A slice always points to memory, which can be in the stack or heap. If it's in the stack, no need for manual memory management, but if it's in the heap, we can use the address stored by the slice to free its memory, the same as done by a 
            <code>[dynamic]byte</code>
            .
		</p>
	</li>
	<li>
		<p>
            I can expand a 
            <code>[dynamic]byte</code>
            , but not a 
            <code>[]byte</code>
            , since a dynamic array has an allocator, and slices don't. Both of them point to memory, but slices can only free it, while 
            <code>[dynamic]byte</code>
            &nbsp;can free and expand.
		</p>
	</li>
	<li>
		<p>
            No allocation is done when slicing.
		</p>
		<ul>
			<li>
				<p>
                    This means it is bound to the array from which the slice was made.
				</p>
			</li>
			<li>
				<p>
                    For this reason, it is preferable to pass slices as procedure parameters.
				</p>
			</li>
		</ul>
	</li>
	<li>
		<p>
			<strong>
                Converting Array Slice to Dynamic Array
			</strong>
            :
		</p>
<pre><code class="language-odin" data-lang="odin">some_ints3 := slice.to_dynamic(some_ints2)
&nbsp;&nbsp;&nbsp;&nbsp;// array slice to dynamic array
</code></pre>
	</li>
	<li>
		<p>
			<strong>
                Allocate memory
			</strong>
            :
		</p>
<pre><code class="language-odin" data-lang="odin">// Method 1
some_ints3 := slice.clone(some_ints2)
&nbsp;&nbsp;&nbsp;&nbsp;// array slice to array slice

// Method 2: with `make`
some_ints3 := make([]int)
</code></pre>
		<ul>
			<li>
				<p>
					<strong>
                        Delete
					</strong>
                    :
				</p>
				<ul>
					<li>
						<p>
                            If the slice has its own memory, then it is necessary to free this memory afterward:
						</p>
<pre><code class="language-odin" data-lang="odin">delete(some_ints3)
</code></pre>
					</li>
				</ul>
			</li>
		</ul>
	</li>
</ul>
<h3
	id="dynamic-arrays-codedynamict-code" >
    Dynamic Arrays (
    <code>[dynamic]T</code>
    )
</h3>
<ul>
	<li>
		<p>
			<a
				href="https://pkg.odin-lang.org/base/runtime/#Raw_Dynamic_Array" 
				class="external-link" 
				target="_blank" >
                <code>Raw_Dynamic_Array</code>
			</a>
            .
		</p>
	</li>
</ul>
<h4
	id="creation" >
    Creation
</h4>
<pre><code class="language-odin" data-lang="odin">// Without make
dyn_arr: [dynamic]int

// With make
dyn_array := make([dynamic]int, context.temp_allocator)
dyn_array := make([dynamic]int, 5, 10, context.temp_allocator) // len 5, cap 10

// With core:bytes lib.
b: bytes.Buffer
bytes.buffer_init_allocator(&b, 0, 2048) // len 0, cap 2048
bytes.buffer_write_string(&b, "my string")
</code></pre>
<h4
	id="destruction" >
    Destruction
</h4>
<pre><code class="language-odin" data-lang="odin">delete(dyn_array)
</code></pre>
<h4
	id="clear" >
    Clear
</h4>
<pre><code class="language-odin" data-lang="odin">clear(&dyn_array)
</code></pre>
<h4
	id="appending" >
    Appending
</h4>
<ul>
	<li>
		<p>
			<a
				href="https://pkg.odin-lang.org/base/runtime/#append" 
				class="external-link" 
				target="_blank" >
                <code>append</code>
			</a>
            .
		</p>
		<ul>
			<li>
				<p>
                    <code>n: int</code>
                    &nbsp;symbolizes the number of elements appended.
				</p>
			</li>
		</ul>
<pre><code class="language-odin" data-lang="odin">append(&dyn_arr, 5)
&nbsp;&nbsp;&nbsp;&nbsp;// dyn_arr[0] is now 5
</code></pre>
<pre><code class="language-odin" data-lang="odin">x: [dynamic]int
append(&x, 123)
append(&x, 4, 1, 74, 3) // append multiple values at once

y: [dynamic]int
append(&y, ..x[:]) // append a slice
</code></pre>
		<ul>
			<li>
				<p>
					<strong>
                        Memory considerations when resizing
					</strong>
                    :
				</p>
<pre><code class="language-odin" data-lang="odin">skeleton_add_joint :: proc(skeleton: ^Skeleton, parent_joint_idx: int, pos: eng.Vec2, rot: f32 = 0, scale: f32 = 1.0, name: string = "") -&gt; int {
&nbsp;&nbsp;&nbsp;&nbsp;if eng.error_assert(skeleton != nil) do return INVALID_JOINT
&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;parent_joint := &skeleton.joints[parent_joint_idx]
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// !! This is invalidated if the append below causes a resize.
&nbsp;&nbsp; 
&nbsp;&nbsp;&nbsp;&nbsp;append(&skeleton.joints, Joint{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pos Â  = pos,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rot Â  = rot,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scale = scale,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name = name,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parent = parent_joint,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;skeleton = skeleton,
&nbsp;&nbsp;&nbsp;&nbsp;})
&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;joint_idx := len(skeleton.joints) - 1
&nbsp;&nbsp;&nbsp;&nbsp;append(&parent_joint.children, joint_idx)
&nbsp;&nbsp;&nbsp;&nbsp;return joint_idx
}
</code></pre>
				<ul>
					<li>
						<p>
                            Barinzaya:
						</p>
						<ul>
							<li>
								<p>
                                    If the dynamic array is full when you append something, then it'd need to resize to add one. That may cause the backing memory to move.
								</p>
							</li>
							<li>
								<p>
                                    You're taking 
                                    <code>parent_joint</code>
                                    &nbsp;
									<em>
                                        before
									</em>
                                    &nbsp;you 
                                    <code>append</code>
                                    &nbsp;to the same array, so 
                                    <code>parent_joint</code>
                                    &nbsp;may be invalid after the append.
								</p>
							</li>
							<li>
								<p>
                                    Also, you're storing pointers to the array in 
                                    <code>Joint</code>
                                    &nbsp;(the 
                                    <code>parent</code>
                                    &nbsp;field). Those can also become invalid when the dynamic array resizes
								</p>
							</li>
						</ul>
					</li>
					<li>
						<p>
                            Caio:
						</p>
						<ul>
							<li>
								<p>
                                    So, what you are saying is that: if I have a pointer to the array, and the array resizes, then I'm screwed? I shouldn't store a pointer to an element in an array?
								</p>
							</li>
						</ul>
					</li>
					<li>
						<p>
                            Barinzaya:
						</p>
						<ul>
							<li>
								<p>
                                    Basically, yes. Though specifically when it resizes as in 
									<em>
                                        reallocates
									</em>
                                    &nbsp;(i.e. 
                                    <code>cap</code>
                                    &nbsp;changes). 
                                    <code>append</code>
                                    ing to an array with 
                                    <code>len == cap</code>
                                    &nbsp;will cause it to reallocate, for instance
								</p>
							</li>
							<li>
								<p>
                                    That can 
									<em>
                                        possibly
									</em>
                                    &nbsp;resize in place, but unless you know the specifics of the allocator it's using, you shouldn't rely on it.
								</p>
							</li>
							<li>
								<p>
                                    If it moves, the whole array will move (i.e. the 
                                    <code>[dynamic]Joint</code>
                                    &nbsp;will point somewhere else)
								</p>
							</li>
							<li>
								<p>
                                    The 
                                    <code>[dynamic]Joint</code>
                                    &nbsp;struct 
									<em>
                                        itself
									</em>
                                    &nbsp;won't move, it's still firmly in your struct--but the array's actual data is behind a pointer, and that can move.
								</p>
							</li>
						</ul>
					</li>
					<li>
						<p>
                            SaiMoen:
						</p>
						<ul>
							<li>
								<p>
                                    Unless you know the 
									<em>
                                        pointer is stable
									</em>
                                    &nbsp;because the backing allocator wouldn't move it (e.g. virtual arena w/ .Static where the only thing using it is the dynamic array).
								</p>
							</li>
						</ul>
					</li>
					<li>
						<p>
                            Caio:
						</p>
						<ul>
							<li>
								<p>
                                    Is there a rule of thumb for dealing with this situations? some safe design I could use?
								</p>
							</li>
						</ul>
					</li>
					<li>
						<p>
                            Barinzaya:
						</p>
						<ol>
							<li>
								<p>
                                    Store array indices, rather than pointers, and any time you 
                                    <code>append</code>
                                    , assume that any pointers you got before the 
                                    <code>append</code>
                                    &nbsp;are now invalid.
								</p>
							</li>
							<li>
								<p>
                                    If you were to 
									<em>
                                        individually
									</em>
                                    &nbsp;allocate each 
                                    <code>Joint</code>
                                    &nbsp;(i.e. using 
                                    <code>new</code>
                                    ), then resizing the array wouldn't move the 
                                    <code>Joint</code>
                                    s themselves, just its array of pointers; by using 
                                    <code>[dynamic]^Joint</code>
                                    .
								</p>
							</li>
							<li>
								<p>
                                    The other option, if you know how many 
                                    <code>Joint</code>
                                    s there will be, is to 
                                    <code>reserve</code>
                                    &nbsp;the dynamic array ahead of time. If it never needs to resize, then you won't have an issue. You'd just need to be careful to make sure that it doesn't, in fact, resize. Indices would probably be less error-prone.
								</p>
							</li>
							<li>
								<p>
                                    &quot;have you looked at relative.Ptr? whether thats an alternative&quot;.
								</p>
								<ul>
									<li>
										<p>
                                            It would work if all of the pointers are within the same array as they seem to be here, yeah. Though array indices would probably be simpler and more debuggable.
										</p>
									</li>
								</ul>
							</li>
							<li>
								<p>
                                    It's handy to have a fixed master array of entities that never changes and serves as a reference, and then you can manipulate seperate arrays of pointers (sorting, growing, etc). However this is not cache-local so it depends on your perf requirements.
								</p>
							</li>
						</ol>
					</li>
				</ul>
			</li>
		</ul>
	</li>
	<li>
		<p>
			<a
				href="https://pkg.odin-lang.org/base/builtin/#inject_at" 
				class="external-link" 
				target="_blank" >
                <code>inject_at</code>
			</a>
            .
		</p>
		<ul>
			<li>
				<p>
                    inject
				</p>
			</li>
		</ul>
	</li>
	<li>
		<p>
			<a
				href="https://pkg.odin-lang.org/base/builtin/#assign_at" 
				class="external-link" 
				target="_blank" >
                <code>assign_at</code>
			</a>
            .
		</p>
		<ul>
			<li>
				<p>
                    ?
				</p>
			</li>
		</ul>
	</li>
</ul>
<h4
	id="iterate" >
    Iterate
</h4>
<pre><code class="language-odin" data-lang="odin">for element in dyn_array {
}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</code></pre>
<pre><code class="language-odin" data-lang="odin">for element, idx in dyn_array {
}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</code></pre>
<pre><code class="language-odin" data-lang="odin">for &element in dyn_array {
&nbsp;&nbsp;&nbsp;&nbsp;element *= 2
}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</code></pre>
<h4
	id="memory" >
    Memory
</h4>
<ul>
	<li>
		<p>
			<strong>
                Cache
			</strong>
            :
		</p>
		<ul>
			<li>
				<p>
                    <a href="/studies/Low-Level Systems/CPU/CPU.html#performance-fixed-array-small-array-vs-dynamic-array">
                    CPU#Performance Fixed Array (Small Array) vs Dynamic Array
                    </a>
                    .
				</p>
			</li>
		</ul>
	</li>
	<li>
		<p>
			<strong>
                Location
			</strong>
            :
		</p>
		<ul>
			<li>
				<p>
                    Stored in the heap.
				</p>
			</li>
			<li>
				<p>
                    They don't &quot;hold&quot; the memory, but actually just point to the address in memory where it is allocated.
				</p>
			</li>
		</ul>
	</li>
	<li>
		<p>
			<strong>
                Allocator
			</strong>
            :
		</p>
		<ul>
			<li>
				<p>
                    Is where the data the pointer points to comes from and where it goes to realloc.
				</p>
			</li>
		</ul>
	</li>
	<li>
		<p>
			<strong>
                Interacting with Slices
			</strong>
            :
		</p>
		<ul>
			<li>
				<p>
                    When you slice a dyn array like 
                    <code>my_dyn_array[:]</code>
                    , the slice's 
					<em>
                        pointer
					</em>
                    &nbsp;and 
					<em>
                        len
					</em>
                    &nbsp;will be the same as the 
                    <code>my_dyn_array</code>
                    .
				</p>
				<ul>
					<li>
						<p>
                            Because it's the same pointer, when you go to delete it the allocator knows which allocation you want to free.
						</p>
					</li>
					<li>
						<p>
                            In other words, freeing the array slice means that the original 
                            <code>my_dyn_array</code>
                            &nbsp;is freed, as they both point to the same thing.
						</p>
					</li>
				</ul>
			</li>
		</ul>
	</li>
	<li>
		<p>
			<strong>
                Growth
			</strong>
            :
		</p>
		<ul>
			<li>
				<p>
                    &quot;Grows when the 
					<em>
                        capacity
					</em>
                    &nbsp;is equal to the 
					<em>
                        length
					</em>
                    &quot;.
				</p>
			</li>
			<li>
				<p>
                    It's possible to use a different allocator to make the array grow:
				</p>
<pre><code class="language-odin" data-lang="odin">// Method 1: change the allocator used by the array.
dyn_arr: [dynamic]int
dyn_array.allocator = context.temp_allocator
append(&dyn_array, 5)

// Method 2: use `make` when creating the array
dyn_array := make([dynamic]int, context.temp_allocator)

// Method 3: change the default allocator of the context (not recommended)
dyn_arr: [dynamic]int
context.allocator = context.temp_allocator
append(&dyn_array, 5)

</code></pre>
			</li>
		</ul>
	</li>
	<li>
		<p>
			<strong>
                Copying
			</strong>
            :
		</p>
		<ul>
			<li>
				<p>
					<em>
                        Correct method
					</em>
                    :
				</p>
<pre><code class="language-odin" data-lang="odin">dyn_array: [dynamic]int
append(&dyn_array, 5)

dyn_array2 := slice.clone_to_dynamic(dyn_array[:])
</code></pre>
			</li>
			<li>
				<p>
					<em>
                        Incorrect method
					</em>
                    :
				</p>
				<ul>
					<li>
						<p>
                            Be careful!
						</p>
					</li>
				</ul>
<pre><code class="language-odin" data-lang="odin">dyn_array: [dynamic]int
append(&dyn_array, 5)

dyn_array2 := dyn_array
</code></pre>
				<ul>
					<li>
						<p>
                            The second array points to the same location as the first array.
						</p>
						<ul>
							<li>
								<p>
                                    This is extremely error-prone, since appending to the first array will grow it, but the second array will not grow; things like that.
								</p>
							</li>
							<li>
								<p>
                                    It will probably crash.
								</p>
							</li>
						</ul>
					</li>
				</ul>
			</li>
		</ul>
	</li>
	<li>
		<p>
			<strong>
                Alternatives
			</strong>
            :
		</p>
		<ol>
			<li>
				<p>
					<em>
                        Via 
                        <code>Buffers</code>
                        &nbsp;from the 'core:bytes' library
					</em>
                    :
				</p>
				<ul>
					<li>
						<p>
                            Loads information that may or may not be useful:
						</p>
						<ul>
							<li>
								<p>
                                    <code>off: int</code>
								</p>
								<ul>
									<li>
										<p>
                                            I believe it represents the offset from where reading stopped.
										</p>
									</li>
									<li>
										<p>
                                            This is used everywhere, so if something has been read, it is excluded from all future operations, including 
                                            <code>bytes.buffer_to_bytes</code>
                                            .
										</p>
									</li>
									<li>
										<p>
                                            Fortunately, this is quite explicit when reading the library's procs.
										</p>
									</li>
								</ul>
							</li>
							<li>
								<p>
                                    <code>last_read: Read_Op</code>
								</p>
								<ul>
									<li>
										<p>
                                            Flags for the last thing read.
										</p>
									</li>
								</ul>
<pre><code class="language-odin" data-lang="odin">Read_Op :: enum i8 {
Â  Â  Read Â  Â  Â  = -1,
Â  Â  Invalid Â  Â = Â 0,
Â  Â  Read_Rune1 = Â 1,
Â  Â  Read_Rune2 = Â 2,
Â  Â  Read_Rune3 = Â 3,
Â  Â  Read_Rune4 = Â 4,
}
</code></pre>
							</li>
						</ul>
					</li>
					<li>
						<p>
                            Not intended for sorting, element removal, etc.
						</p>
						<ul>
							<li>
								<p>
                                    Obviously possible, since it's fundamentally just a 
                                    <code>[dynamic]T</code>
                                    , but it's not the focus.
								</p>
							</li>
						</ul>
					</li>
				</ul>
			</li>
		</ol>
	</li>
</ul>
<h3
	id="multi-pointer-c-arrays-codet-code" >
    Multi-pointer (C Arrays) (
    <code>[^]T</code>
    )
</h3>
<ul>
	<li>
		<p>
            Multi-pointers are just C arrays.
		</p>
	</li>
	<li>
		<p
			class="line-emphasis" >
            See 
            <a href="/studies/Low-Level Systems/C.html#arrays">
            C#Arrays
            </a>
            &nbsp;for better understanding.
		</p>
	</li>
	<li>
		<p>
			<a
				href="https://odin-lang.org/docs/overview/#multi-pointers" 
				class="external-link" 
				target="_blank" >
                Multi Pointer
			</a>
            .
		</p>
		<ul>
			<li>
				<p>
                    &quot;The name may be subject to change.&quot;
				</p>
			</li>
		</ul>
	</li>
	<li>
		<p>
            The type 
            <code>[^]T</code>
            &nbsp;is a multi-pointer to T value(s).
		</p>
	</li>
	<li>
		<p>
			<strong>
                Used in
			</strong>
            :
		</p>
		<ul>
			<li>
				<p>
                    Describe 
					<a
						href="https://odin-lang.org/docs/overview/#foreign-system" 
						class="external-link" 
						target="_blank" >
                        <code>foreign</code>
					</a>
                    &nbsp;(C-like) pointers which act like arrays (pointers that map to multiple items).
				</p>
			</li>
			<li>
				<p>
                    It is precisely what makes up a 
					<a
						href="https://pkg.odin-lang.org/base/runtime/#Raw_Cstring" 
						class="external-link" 
						target="_blank" >
                        Raw_Cstring
					</a>
                    .
				</p>
				<ul>
					<li>
						<p>
                            A 
							<a
								href="https://pkg.odin-lang.org/base/runtime/#Raw_Cstring" 
								class="external-link" 
								target="_blank" >
                                Raw_String
							</a>
                            &nbsp;is almost the same thing, but contains a length.
						</p>
					</li>
				</ul>
			</li>
		</ul>
	</li>
	<li>
		<p>
			<strong>
                Zero Value
			</strong>
            :
		</p>
		<ul>
			<li>
				<p>
                    <code>nil</code>
                    .
				</p>
			</li>
		</ul>
	</li>
</ul>
<h4
	id="operations" >
    Operations
</h4>
<pre><code class="language-odin" data-lang="odin">x: [^]T = ...

x[i]&nbsp;&nbsp; -&gt; T
x[:]&nbsp;&nbsp; -&gt; [^]T
x[i:]&nbsp;&nbsp;-&gt; [^]T
x[:n]&nbsp;&nbsp;-&gt; []T
x[i:n] -&gt; []T
</code></pre>
<h4
	id="re-allocating" >
    Re-allocating
</h4>
<ul>
	<li>
		<p>
            Caio:
		</p>
		<ul>
			<li>
				<p>
                    hello, if 
                    <code>image_pixel: []byte</code>
                    &nbsp;and 
                    <code>image_data: [^]u8</code>
                    , how can I allocate the values from the 
                    <code>image_data</code>
                    &nbsp;into 
                    <code>image_pixels</code>
                    ? I'm doing the following, but I'm getting a UAF.
				</p>
			</li>
		</ul>
<pre><code class="language-odin" data-lang="odin">size := image_get_size(extent, format)
image_pixels = make([]byte, size, allocator)
image_pixels = image_data[:size]
</code></pre>
	</li>
	<li>
		<p>
            Barinzaya:
		</p>
		<ul>
			<li>
				<p>
                    All 
                    <code>image_pixels = image_data[:size]</code>
                    &nbsp;is doing is changing 
                    <code>image_pixels</code>
                    &nbsp;to point to 
                    <code>image_data</code>
                    's data, it's not actually copying the data. It sounds like you want 
                    <code>copy(image_pixels, image_data[:size])</code>
				</p>
			</li>
			<li>
				<p>
                    <code>copy</code>
                    &nbsp;is a built-in procedure that copies elements from a source slice/string 
                    <code>src</code>
                    &nbsp;to a destination slice 
                    <code>dst</code>
                    . The source and destination may overlap. Copy returns the number of elements copied, which will be the minimum of len(src) and len(dst).
				</p>
			</li>
		</ul>
	</li>
</ul>
<h4
	id="raw_data" >
    raw_data()
</h4>
<ul>
	<li>
		<p>
            Interacting with Multi-Pointers is easiest using the builtin 
            <code>raw_data()</code>
            &nbsp;call which can return a Multi-Pointer.
		</p>
		<ul>
			<li>
				<p>
					<a
						href="https://pkg.odin-lang.org/base/builtin/#raw_data" 
						class="external-link" 
						target="_blank" >
                        raw_data
					</a>
                    .
				</p>
			</li>
			<li>
				<p>
                    Returns the underlying data of a built-in data type as a multi-pointer.
				</p>
			</li>
		</ul>
	</li>
</ul>
<pre><code class="language-odin" data-lang="odin">b := [?]int{ 10, 20, 30 }
a: [^]int
fmt.println(a)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // &lt;nil&gt;
a = raw_data(b[:]) 
fmt.println(a, a[1]) // 0x7FFCBE9FE688 20
</code></pre>
<h4
	id="discussion" >
    Discussion
</h4>
<ul>
	<li>
		<p>
			<strong>
                Discussion 1
			</strong>
            :
		</p>
		<ul>
			<li>
				<p>
                    Is 
                    <code>raw_data(my_array_ptr)</code>
                    &nbsp;the same as 
                    <code>&my_array_ptr[0]</code>
                    , if 
                    <code>len(my_array_ptr) &gt; 0</code>
                    ? I find that using 
                    <code>&my_array_ptr[0]</code>
                    &nbsp;is a bit more intuitive when something asks for a 
                    <code>[^]</code>
                    , does it make sense?
				</p>
				<ul>
					<li>
						<p>
                            Mostly. 
                            <code>&my_array[0]</code>
                            &nbsp;will invoke bounds checking on slices/dynamic arrays whereas 
                            <code>raw_data</code>
                            &nbsp;won't (and will just return the slice's pointer directly). The types are technically different, but 
                            <code>^T</code>
                            &nbsp;converts to 
                            <code>[^]T</code>
                            &nbsp;so that often doesn't matter
						</p>
					</li>
				</ul>
			</li>
			<li>
				<p>
                    so, no harm no foul on using 
                    <code>&myarray[0]</code>
                    ? That makes things much easier to understand
				</p>
				<ul>
					<li>
						<p>
                            Should be fine if you know it won't be empty, but it may incur a bounds check. Otherwise, the result will be the same
						</p>
					</li>
				</ul>
			</li>
		</ul>
	</li>
	<li>
		<p>
			<strong>
                Discussion 2
			</strong>
            :
		</p>
<pre><code class="language-odin" data-lang="odin">property_count: u32
vk_check(vk.EnumerateInstanceExtensionProperties(nil, &property_count, nil))

properties := make([]vk.ExtensionProperties, property_count)
vk_check(vk.EnumerateInstanceExtensionProperties(nil, &property_count, raw_data(properties)))

fmt.printfln("property_count: %v, properties: %v", property_count, properties)
</code></pre>
		<ul>
			<li>
				<p>
                    Shouldn't I never use a multi-pointer directly, but only use 
                    <code>raw_data</code>
                    &nbsp;to interface with a foreign api?
				</p>
				<ul>
					<li>
						<p>
                            yeah you normally don't need a multipointer
						</p>
					</li>
				</ul>
			</li>
		</ul>
<pre><code class="language-odin" data-lang="odin">physical_device_properties := vk.PhysicalDeviceProperties2{
&nbsp;&nbsp;&nbsp;&nbsp;sType = .PHYSICAL_DEVICE_PROPERTIES_2
}
vk.GetPhysicalDeviceProperties2(device, &physical_device_properties)
</code></pre>
		<ul>
			<li>
				<p>
                    just earlier I had to create an array slice and pass it with a 
                    <code>raw_data</code>
                    , but now I'm just using a pointer to a struct, why is that?
				</p>
				<ul>
					<li>
						<p>
                            They're equivalent.
						</p>
					</li>
					<li>
						<p>
                            Both a pointer and a slice are assignable to a multi-pointer.
						</p>
					</li>
					<li>
						<p>
                            Multi-pointers are just C arrays.
						</p>
					</li>
				</ul>
			</li>
		</ul>
	</li>
</ul>

				</article>
			</main>
			<footer
				id="central-footer" >
                ðŸ§‘â€ðŸ’» built and copyrighted by
				<a
					href="https://github.com/caioraphael1" 
					target="_blank" >
                    Caio Raphael
				</a>
                ðŸ“… 2025-2026 ðŸš€
			</footer>
		</main>
		<script
			src="/static/studies.29354.js" >
		</script>
	</body>
</html>
