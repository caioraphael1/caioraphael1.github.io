<!doctype html>
<html
	lang="en" >
	<head>
		<title>
            Caio Raphael
		</title>
		<meta
			charset="utf-8" >
		<meta
			name="viewport" 
			content="width=device-width, initial-scale=1" >
		<meta
			name="description" 
			content="Senior Game Developer, Engine Developer, Low-Level Network, Low-Level Systems, Physicist" >
		<meta
			name="author" 
			content="Caio Raphael" >
		<meta
			name="theme-color" 
			content="#ffffff" 
			media="(prefers-color-scheme: light)" >
		<meta
			name="theme-color" 
			content="#101010" 
			media="(prefers-color-scheme: dark)" >
		<link
			rel="icon" 
			href="/assets/icon.ico" >
		<link
			rel="icon" 
			href="/assets/icon-16x16.png" 
			sizes="16x16" 
			type="image/png" >
		<link
			rel="icon" 
			href="/assets/icon-32x32.png" 
			sizes="32x32" 
			type="image/png" >
		<script>
window.MathJax = {
                tex: {
                    inlineMath: [['$', '$']],
                    displayMath: [['$$', '$$']]
                }
                };
		</script>
		<script
			src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" >
		</script>
		<script
			type="module" >

                    import hljs from 'https://unpkg.com/@highlightjs/cdn-assets@11.11.1/es/highlight.min.js';
                    import hljs_odin from 'https://unpkg.com/highlightjs-odinlang@1.4.0/dist/odin.es.min.js';
                    import hljs_glsl from 'https://unpkg.com/@highlightjs/cdn-assets@11.11.1/es/languages/glsl.min.js';
                    import hljs_swift  from 'https://unpkg.com/@highlightjs/cdn-assets@11.11.1/es/languages/swift.min.js';
                    hljs.registerLanguage('odin', hljs_odin);
                    hljs.registerLanguage('glsl', hljs_glsl);
                    hljs.registerLanguage('gdscript', hljs_swift);
                    hljs.highlightAll();
                
		</script>
		<link
			rel="stylesheet" 
			href="/static/studies.42575.css" >
	</head>
	<body>
		<aside
			id="left-sidebar-wrapper" >
			<div
				id="left-sidebar" >
				<header>
					<a
						href="/" 
						class="site-logo" >
                        Caio Raphael
					</a>
					<p
						class="breadcrums-division" >
                        /
					</p>
					<a
						href="/studies/_index.html" 
						class="breadcrumbs-studies" >
                        Studies
					</a>
				</header>
				<nav>
					<details
						open="">
						<summary>
                            Audio Programming
						</summary>
						<ul>
							<li>
								<a
									class="active" 
									href="/studies/Audio and Video/Audio Programming/Audio Programming-miniaudio.html" >
                                    miniaudio
								</a>
								<ul>
									<li>
										<a
											href="#about" >
                                            About
										</a>
										<ul>
										</ul>
									</li>
									<li>
										<a
											href="#definitions" >
                                            Definitions
										</a>
										<ul>
										</ul>
									</li>
									<li>
										<a
											href="#device" >
                                            Device
										</a>
										<ul>
										</ul>
									</li>
									<li>
										<a
											href="#decoder" >
                                            Decoder
										</a>
										<ul>
										</ul>
									</li>
									<li>
										<a
											href="#encoding" >
                                            Encoding
										</a>
										<ul>
										</ul>
									</li>
									<li>
										<a
											href="#data-sources" >
                                            Data Sources
										</a>
										<ul>
										</ul>
									</li>
									<li>
										<a
											href="#many-files" >
                                            Many files
										</a>
										<ul>
										</ul>
									</li>
									<li>
										<a
											href="#playback" >
                                            Playback
										</a>
										<ul>
										</ul>
									</li>
									<li>
										<a
											href="#capture" >
                                            Capture
										</a>
										<ul>
										</ul>
									</li>
									<li>
										<a
											href="#spatialization" >
                                            Spatialization
										</a>
										<ul>
										</ul>
									</li>
									<li>
										<a
											href="#high-level-api" >
                                            High-Level API
										</a>
									</li>
								</ul>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Audio and Video/Audio Programming/Audio Programming-libraries.html" >
                                    Libraries
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Audio and Video/Audio Programming/Audio Programming-linux-native-audio-engine-apis.html" >
                                    Linux Native audio engine APIs
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Audio and Video/Audio Programming/Audio Programming-windows-native-audio-engine-apis.html" >
                                    Windows Native audio engine APIs
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Audio and Video/Audio Programming/Audio Programming-android-native-audio-engine-apis.html" >
                                    Android Native audio engine APIs
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Audio and Video/Audio Programming/Audio Programming-web-native-audio-engine-apis.html" >
                                    Web Native audio engine APIs
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Audio and Video/Audio Programming/Audio Programming-macos-native-audio-engine-apis.html" >
                                    macOS Native audio engine APIs
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Audio and Video/Audio Programming/Audio Programming-advanced-techniques.html" >
                                    Advanced Techniques
								</a>
							</li>
						</ul>
					</details>
					<details
>
						<summary>
                            FMOD API
						</summary>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Audio and Video/Audio Programming/FMOD API-apis.html" >
                                    APIs
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Audio and Video/Audio Programming/FMOD API-assets.html" >
                                    Assets
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Audio and Video/Audio Programming/FMOD API-update-loop.html" >
                                    Update Loop
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Audio and Video/Audio Programming/FMOD API-banks.html" >
                                    Banks
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Audio and Video/Audio Programming/FMOD API-platforms.html" >
                                    Platforms
								</a>
							</li>
						</ul>
					</details>
					<details
>
						<summary>
                            FMOD
						</summary>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Audio and Video/Music Production/FMOD-about.html" >
                                    About
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Audio and Video/Music Production/FMOD-sheets.html" >
                                    Sheets
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Audio and Video/Music Production/FMOD-instruments.html" >
                                    Instruments
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Audio and Video/Music Production/FMOD-parameters.html" >
                                    Parameters
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Audio and Video/Music Production/FMOD-logic-tracks.html" >
                                    Logic Tracks
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Audio and Video/Music Production/FMOD-master-track.html" >
                                    Master Track
								</a>
							</li>
						</ul>
					</details>
					<details
>
						<summary>
                            Audio Softwares
						</summary>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Audio and Video/Music Production/Audio Softwares-about.html" >
                                    About
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Audio and Video/Music Production/Audio Softwares-digital-audio-workstation-daw.html" >
                                    Digital Audio Workstation (DAW)
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Audio and Video/Music Production/Audio Softwares-audio-middleware.html" >
                                    Audio Middleware
								</a>
							</li>
						</ul>
					</details>
					<details
>
						<summary>
                            Music Theory
						</summary>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Audio and Video/Music Production/Music Theory/Music Theory-my-notes.html" >
                                    My Notes
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Audio and Video/Music Production/Music Theory/Music Theory-music-theory.html" >
                                    Music Theory
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Audio and Video/Music Production/Music Theory/Music Theory-music-breakdowns.html" >
                                    Music Breakdowns
								</a>
							</li>
						</ul>
					</details>
					<details
>
						<summary>
                            Musical Instruments
						</summary>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Audio and Video/Music Production/Musical Instruments/Musical Instruments-notes.html" >
                                    Notes
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Audio and Video/Music Production/Musical Instruments/Musical Instruments-percussion.html" >
                                    Percussion
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Audio and Video/Music Production/Musical Instruments/Musical Instruments-electrophone.html" >
                                    Electrophone
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Audio and Video/Music Production/Musical Instruments/Musical Instruments-chordophone.html" >
                                    Chordophone
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Audio and Video/Music Production/Musical Instruments/Musical Instruments-idiophone.html" >
                                    Idiophone
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Audio and Video/Music Production/Musical Instruments/Musical Instruments-membranophone.html" >
                                    Membranophone
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Audio and Video/Music Production/Musical Instruments/Musical Instruments-aerophone.html" >
                                    Aerophone
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Audio and Video/Music Production/Musical Instruments/Musical Instruments-aerophone-flutes.html" >
                                    Aerophone: Flutes
								</a>
							</li>
						</ul>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Audio and Video/Music Production/Musical Instruments/Musical Instruments-voice-ranges.html" >
                                    Voice Ranges
								</a>
							</li>
						</ul>
					</details>
					<details
>
						<summary>
                            Video, Codecs
						</summary>
						<ul>
							<li>
								<a
									class="" 
									href="/studies/Audio and Video/Audio Programming/Video, Codecs-video-codecs.html" >
                                    Video, Codecs
								</a>
							</li>
						</ul>
					</details>
				</nav>
			</div>
		</aside>
		<main
			id="central-wrapper" >
			<main
				id="note-wrapper" >
				<header
					id="note-header" >
					<h1>
                        miniaudio
					</h1>
					<p>
						<time
							datetime="2025-08-27" >
                            üïí Created: 2025-08-27
						</time>
						<time
							datetime="2026-02-01" >
                            | Updated: 2026-02-01
						</time>
					</p>
				</header>
				<article
					id="note-content" >
<h3
	id="about" >
    About
</h3>
<ul>
	<li>
		<p>
			<a
				href="https://github.com/mackron/miniaudio/tree/master" 
				class="external-link" 
				target="_blank" >
                miniaudio
			</a>
            .
		</p>
	</li>
	<li>
		<p>
			<a
				href="https://miniaud.io/docs/examples/index.html" 
				class="external-link" 
				target="_blank" >
                miniaudio - Examples
			</a>
            .
		</p>
	</li>
	<li>
		<p>
			<a
				href="https://gist.github.com/p1xelHer0/abed4728096ea3a88af7802cbe46cf08" 
				class="external-link" 
				target="_blank" >
                miniaudio - High Level API in Odin
			</a>
            .
		</p>
	</li>
	<li>
		<p>
			<a
				href="https://pkg.odin-lang.org/vendor/miniaudio/" 
				class="external-link" 
				target="_blank" >
                vendor:miniaudio
			</a>
            .
		</p>
	</li>
	<li>
		<p>
            Single-header C library for audio playback, capture, decoding, mixing.
		</p>
	</li>
	<li>
		<p>
            Supports decoding WAV, MP3 and FLAC out of the box
		</p>
	</li>
	<li>
		<p>
            Cross-platform with minimal dependencies.
		</p>
	</li>
	<li>
		<p>
            Designed for modern low-level control.
		</p>
	</li>
	<li>
		<p>
            Built-in decoders and resamplers.
		</p>
	</li>
	<li>
		<p>
            Full control over audio pipeline.
		</p>
	</li>
	<li>
		<p>
            Good for procedural audio and DSP.
		</p>
	</li>
	<li>
		<p>
			<em>
                Cons
			</em>
            :
		</p>
		<ul>
			<li>
				<p>
                    No advanced spatial audio out of the box.
				</p>
			</li>
			<li>
				<p>
                    You build your own 3D audio, effects, scene graph, etc.
				</p>
			</li>
		</ul>
	</li>
	<li>
		<p>
            Backends:
		</p>
		<ul>
			<li>
				<p>
                    WASAPI
				</p>
			</li>
			<li>
				<p>
                    DirectSound
				</p>
			</li>
			<li>
				<p>
                    WinMM
				</p>
			</li>
			<li>
				<p>
                    Core Audio (Apple)
				</p>
			</li>
			<li>
				<p>
                    ALSA
				</p>
			</li>
			<li>
				<p>
                    PulseAudio
				</p>
			</li>
			<li>
				<p>
                    JACK
				</p>
			</li>
			<li>
				<p>
                    sndio (OpenBSD)
				</p>
			</li>
			<li>
				<p>
                    audio(4) (NetBSD and OpenBSD)
				</p>
			</li>
			<li>
				<p>
                    OSS (FreeBSD)
				</p>
			</li>
			<li>
				<p>
                    AAudio (Android 8.0+)
				</p>
			</li>
			<li>
				<p>
                    OpenSL|ES (Android only)
				</p>
			</li>
			<li>
				<p>
                    Web Audio (Emscripten)
				</p>
			</li>
			<li>
				<p>
                    Null (Silence)
				</p>
			</li>
			<li>
				<p>
                    Custom
				</p>
			</li>
		</ul>
	</li>
</ul>
<h3
	id="definitions" >
    Definitions
</h3>
<ul>
	<li>
		<p>
            Sample
		</p>
		<ul>
			<li>
				<p>
                    Is a single unit of audio data. If the sample format is f32, then one sample is one 32-bit floating point number.
				</p>
			</li>
		</ul>
	</li>
	<li>
		<p>
            Frame / PCM Frame
		</p>
		<ul>
			<li>
				<p>
                    A frame is a group of samples equal to the number of channels. For a stereo stream a frame is 2 samples, a mono frame is 1 sample, a 5.1 surround sound frame is 6 samples, etc. The terms &quot;frame&quot; and &quot;PCM frame&quot; are the same thing in miniaudio. Note that this is different to a compressed frame. If ever miniaudio needs to refer to a compressed frame, such as a FLAC frame, it will always clarify what it's referring to with something like &quot;FLAC frame&quot;.
				</p>
			</li>
		</ul>
	</li>
	<li>
		<p>
            Channel
		</p>
		<ul>
			<li>
				<p>
                    A stream of monaural audio that is emitted from an individual speaker in a speaker system, or received from an individual microphone in a microphone system. A stereo stream has two channels (a left channel, and a right channel), a 5.1 surround sound system has 6 channels, etc. Some audio systems refer to a channel as a complex audio stream that's mixed with other channels to produce the final mix - this is completely different to miniaudio's use of the term &quot;channel&quot; and should not be confused.
				</p>
			</li>
		</ul>
	</li>
	<li>
		<p>
            Sample Rate
		</p>
		<ul>
			<li>
				<p>
                    The sample rate in miniaudio is always expressed in Hz, such as 44100, 48000, etc. It's the number of PCM frames that are processed per second.
				</p>
			</li>
		</ul>
	</li>
	<li>
		<p>
            Formats
		</p>
		<ul>
			<li>
				<p>
                    Throughout miniaudio you will see references to different sample formats:
				</p>
			</li>
		</ul>
	</li>
</ul>
<h3
	id="device" >
    Device
</h3>
<ul>
	<li>
		<p>
            The device is sleeping by default so you'll need to start it manually.
		</p>
	</li>
</ul>
<h5
	id="data_callback" >
    data_callback
</h5>
<ul>
	<li>
		<p>
            Is where audio data is written and read from the device.
		</p>
	</li>
	<li>
		<p>
            This function will be called when miniaudio needs more data.
		</p>
	</li>
	<li>
		<p>
            The following APIs must never be called inside the callback:
		</p>
		<ul>
			<li>
				<p>
                    <code>ma_device_init()</code>
				</p>
			</li>
			<li>
				<p>
                    <code>ma_device_init_ex()</code>
				</p>
			</li>
			<li>
				<p>
                    <code>ma_device_uninit()</code>
				</p>
			</li>
			<li>
				<p>
                    <code>ma_device_start()</code>
				</p>
			</li>
			<li>
				<p>
                    <code>ma_device_stop()</code>
				</p>
			</li>
		</ul>
	</li>
</ul>
<h5
	id="getting-a-device-id" >
    Getting a device ID
</h5>
<ul>
	<li>
		<p>
            To retrieve the device ID you will need to perform device enumeration, however this requires the use of a new concept called the &quot;context&quot;.
		</p>
	</li>
	<li>
		<p>
            etc.
		</p>
	</li>
	<li>
		<p>
			<a
				href="https://miniaud.io/docs/examples/simple_enumeration.html" 
				class="external-link" 
				target="_blank" >
                Enumerating devices example
			</a>
		</p>
	</li>
</ul>
<h5
	id="starting-the-device" >
    Starting the device
</h5>
<ul>
	<li>
		<p>
            The device is sleeping by default so you'll need to start it manually.
		</p>
	</li>
	<li>
		<p>
            Starts the device. For playback devices this begins playback. For capture devices it begins recording.
		</p>
	</li>
	<li>
		<p>
            Use 
            <code>ma_device_stop()</code>
            &nbsp;to stop the device.
		</p>
	</li>
	<li>
		<p>
            It is not safe to call this inside any callback.
		</p>
	</li>
	<li>
		<p>
            It's safe to call this from any thread with the exception of the callback thread.
		</p>
	</li>
	<li>
		<p>
            For a playback device, this will retrieve an initial chunk of audio data from the client before returning. The reason for this is to ensure there is valid audio data in the buffer, which needs to be done before the device begins playback.
		</p>
	</li>
	<li>
		<p>
            This API waits until the backend device has been started for real by the worker thread. It also waits on a mutex for thread-safety.
		</p>
	</li>
</ul>
<h3
	id="decoder" >
    Decoder
</h3>
<ul>
	<li>
		<p>
            Used for reading audio files.
		</p>
	</li>
	<li>
		<p>
            Decoders are completely decoupled from devices and can be used independently.
		</p>
	</li>
	<li>
		<p>
            Built-in decoders:
		</p>
		<ul>
			<li>
				<p>
                    WAV.
				</p>
			</li>
			<li>
				<p>
                    MP3.
				</p>
			</li>
			<li>
				<p>
                    FLAC.
				</p>
			</li>
			<li>
				<p>
                    You can disable the built-in decoders by specifying one or more of the following options before the miniaudio implementation:
				</p>
			</li>
		</ul>
<pre><code class="language-c" data-lang="c">#define MA_NO_WAV
#define MA_NO_MP3
#define MA_NO_FLAC
</code></pre>
	</li>
	<li>
		<p>
            <code>readPointerInPCMFrames: u64,</code>
		</p>
		<ul>
			<li>
				<p>
                    In output sample rate. Used for keeping track of how many frames are available for decoding.
				</p>
			</li>
		</ul>
	</li>
</ul>
<h5
	id="initializing-a-decoder" >
    Initializing a Decoder
</h5>
<ul>
	<li>
		<p>
            A decoder can be initialized from a file with 
            <code>ma_decoder_init_file()</code>
            , a block of memory with 
            <code>ma_decoder_init_memory()</code>
            , or from data delivered via callbacks with 
            <code>ma_decoder_init()</code>
            .
		</p>
	</li>
</ul>
<h5
	id="initializing-a-decoder-decoder-config" >
    Initializing a Decoder: Decoder Config
</h5>
<ul>
	<li>
		<p>
            When initializing a decoder, you can optionally pass in a pointer to a 
            <code>ma_decoder_config</code>
            &nbsp;object (the NULL argument in the example above) which allows you to configure the output format, channel count, sample rate and channel map.
		</p>
	</li>
	<li>
		<p>
            When loading a decoder, miniaudio uses a trial and error technique to find the appropriate decoding backend. This can be unnecessarily inefficient if the type is already known. In this case you can use encodingFormat variable in the device config to specify a specific encoding format you want to decode: 
            <code>decoderConfig.encodingFormat = ma_encoding_format_wav;</code>
            . The 
            <code>ma_decoder_init_file()</code>
            &nbsp;API will try using the file extension to determine which decoding backend to prefer.
		</p>
	</li>
	<li>
		<p>
            When passing in 
            <code>NULL</code>
            &nbsp;for decoder config in 
            <code>ma_decoder_init()</code>
            , the output format will be the same as that defined by the decoding backend.
		</p>
	</li>
</ul>
<h5
	id="seek" >
    Seek
</h5>
<ul>
	<li>
		<p>
            Data is read from the decoder as PCM frames. This will output the number of PCM frames actually read.
		</p>
	</li>
	<li>
		<p>
            Return:
		</p>
		<ul>
			<li>
				<p>
                    If this is less than the requested number of PCM frames it means you've reached the end.
				</p>
			</li>
		</ul>
	</li>
	<li>
		<p>
            You can also seek to a specific frame with 
            <code>ma_decoder_seek_to_pcm_frame</code>
            .
		</p>
	</li>
	<li>
		<p>
            To loop from the start: 
            <code>ma_decoder_seek_to_pcm_frame(pDecoder, 0);</code>
		</p>
	</li>
	<li>
		<p>
            Do not use 
            <code>ma_decoder_seek_to_pcm_frame()</code>
            &nbsp;as a means to reuse a data source to play multiple instances of the same sound simultaneously. This can be extremely inefficient depending on the type of data source and can result in glitching due to subtle changes to the state of internal filters. Instead, initialize multiple data sources for each instance.
		</p>
	</li>
</ul>
<h5
	id="custom-decoders" >
    Custom decoders
</h5>
<ul>
	<li>
		<p>
            This is extremely useful when you want to use the ma_decoder API, but need to support an encoding format that's not one of the stock formats supported by miniaudio.
		</p>
	</li>
	<li>
		<p>
            If, for example, you wanted to support Opus, you can do so with a custom decoder:
		</p>
	</li>
</ul>
<pre><code class="language-c" data-lang="c">ma_decoding_backend_vtable* pCustomBackendVTables[] =
{
&nbsp;&nbsp;&nbsp;&nbsp;&g_ma_decoding_backend_vtable_libvorbis,
&nbsp;&nbsp;&nbsp;&nbsp;&g_ma_decoding_backend_vtable_libopus
};

decoderConfig = ma_decoder_config_init_default();
decoderConfig.pCustomBackendUserData = NULL;
decoderConfig.ppCustomBackendVTables = pCustomBackendVTables;
decoderConfig.customBackendCount&nbsp;&nbsp;&nbsp;&nbsp; = sizeof(pCustomBackendVTables) / sizeof(pCustomBackendVTables[0]);
</code></pre>
<h3
	id="encoding" >
    Encoding
</h3>
<ul>
	<li>
		<p>
            Used for writing audio files.
		</p>
	</li>
	<li>
		<p>
            The only supported output format is WAV.
		</p>
	</li>
</ul>
<h3
	id="data-sources" >
    Data Sources
</h3>
<ul>
	<li>
		<p>
            The 
            <code>ma_data_source</code>
            &nbsp;API is a generic interface for reading from a data source.
		</p>
	</li>
	<li>
		<p>
            Any object that implements the data source interface can be plugged into any 
            <code>ma_data_source</code>
            &nbsp;function.
		</p>
		<ul>
			<li>
				<p>
                    When calling any data source function, with the exception of ma_data_source_init() and ma_data_source_uninit(), you can pass in any object that implements a data source.
				</p>
			</li>
		</ul>
	</li>
</ul>
<h5
	id="read" >
    Read
</h5>
<ul>
	<li>
		<p>
            To read data from a data source:
		</p>
	</li>
</ul>
<pre><code class="language-c" data-lang="c">ma_result result;
ma_uint64 framesRead;

result = ma_data_source_read_pcm_frames(pDataSource, pFramesOut, frameCount, &framesRead);
if (result != MA_SUCCESS) {
&nbsp;&nbsp;&nbsp;&nbsp;return result;&nbsp;&nbsp;// Failed to read data from the data source.
}
</code></pre>
<ul>
	<li>
		<p>
            If you don't need the number of frames that were successfully read you can pass in NULL to the 
            <code>pFramesRead</code>
            &nbsp;parameter.
		</p>
	</li>
	<li>
		<p>
            Return:
		</p>
		<ul>
			<li>
				<p>
                    If this returns a value less than the number of frames requested it means the end of the file has been reached.
				</p>
			</li>
			<li>
				<p>
                    <code>MA_AT_END</code>
                    &nbsp;will be returned only when the number of frames read is 0.
				</p>
			</li>
		</ul>
	</li>
</ul>
<h5
	id="get-data-format" >
    Get Data Format
</h5>
<ul>
	<li>
		<p>
            <code>ma_data_source_get_data_format</code>
		</p>
	</li>
</ul>
<h5
	id="get-length" >
    Get Length
</h5>
<ul>
	<li>
		<p>
            <code>ma_data_source_get_length_in_pcm_frames</code>
		</p>
	</li>
</ul>
<h5
	id="get-cursor" >
    Get Cursor
</h5>
<ul>
	<li>
		<p>
            <code>ma_data_source_get_cursor_in_pcm_frames</code>
		</p>
	</li>
</ul>
<h5
	id="loop" >
    Loop
</h5>
<ul>
	<li>
		<p>
            Custom loop points can also be used with data sources.
		</p>
	</li>
	<li>
		<p>
            The loop point is relative to the current range.
		</p>
	</li>
	<li>
		<p>
            By default, data sources will loop after they reach the end of the data source, but if you need to loop at a specific location, you can do the following:
		</p>
	</li>
</ul>
<h5
	id="chaining-data-sources" >
    Chaining Data Sources
</h5>
<ul>
	<li>
		<p>
			<a
				href="https://miniaud.io/docs/examples/data_source_chaining.html" 
				class="external-link" 
				target="_blank" >
                example
			</a>
		</p>
	</li>
	<li>
		<p>
            It's sometimes useful to chain data sources together so that a seamless transition can be achieved.
		</p>
	</li>
</ul>
<pre><code class="language-c" data-lang="c">ma_decoder decoder1;
ma_decoder decoder2;

// ... initialize decoders with ma_decoder_init_*() ...

result = ma_data_source_set_next(&decoder1, &decoder2);
if (result != MA_SUCCESS) {
&nbsp;&nbsp;&nbsp;&nbsp;return result;&nbsp;&nbsp;// Failed to set the next data source.
}

result = ma_data_source_read_pcm_frames(&decoder1, pFramesOut, frameCount, pFramesRead);
if (result != MA_SUCCESS) {
&nbsp;&nbsp;&nbsp;&nbsp;return result;&nbsp;&nbsp;// Failed to read from the decoder.
}
</code></pre>
<ul>
	<li>
		<p>
            In the example above we're using decoders. When reading from a chain, you always want to read from the top level data source in the chain. In the example above, decoder1 is the top level data source in the chain. When decoder1 reaches the end, decoder2 will start seamlessly without any gaps.
		</p>
	</li>
	<li>
		<p>
            Note that when looping is enabled, only the current data source will be looped. You can loop the entire chain by linking in a loop like so:
		</p>
	</li>
</ul>
<pre><code class="language-c" data-lang="c">ma_data_source_set_next(&decoder1, &decoder2);&nbsp;&nbsp;// decoder1 -&gt; decoder2
ma_data_source_set_next(&decoder2, &decoder1);&nbsp;&nbsp;// decoder2 -&gt; decoder1 (loop back to the start).
</code></pre>
<ul>
	<li>
		<p>
            Note that setting up chaining is not thread safe, so care needs to be taken if you're dynamically changing links while the audio thread is in the middle of reading.
		</p>
	</li>
</ul>
<h3
	id="many-files" >
    Many files
</h3>
<ul>
	<li>
		<p>
            When mixing multiple sounds together, you should not create multiple devices. Instead you should create only a single device and then mix your sounds together which you can do by simply summing their samples together.
		</p>
	</li>
	<li>
		<p>
            The simplest way to do this is to use floating point samples and use miniaudio's built-in clipper to handling clipping for you. (Clipping is when sample are clamped to their minimum and maximum range, which for floating point is -1..1.)
		</p>
	</li>
</ul>
<pre><code class="language-txt" data-lang="txt">Usage:&nbsp;&nbsp; simple_mixing [input file 0] [input file 1] ... [input file n]
Example: simple_mixing file1.wav file2.flac
</code></pre>
<ul>
	<li>
		<p>
			<a
				href="https://miniaud.io/docs/examples/simple_mixing.html" 
				class="external-link" 
				target="_blank" >
                Mixing example
			</a>
            .
		</p>
		<ul>
			<li>
				<p>
                    The decoders will be mixed together in the callback.
				</p>
			</li>
			<li>
				<p>
                    Create only a single device.
				</p>
			</li>
			<li>
				<p>
                    In this example, all decoders need to have the same output format.
				</p>
			</li>
			<li>
				<p>
                    In this example the data format needs to be the same as the decoders.
				</p>
			</li>
			<li>
				<p>
                    We can't stop in the audio thread so we instead need to use an event. We wait on this thread in the main thread, and signal it in the audio thread. This needs to be done before starting the device.
				</p>
			</li>
			<li>
				<p>
                    We need a context to initialize the event, which we can get from the device.
				</p>
			</li>
			<li>
				<p>
                    Alternatively you can initialize a context separately, but we don't need to do that for this example.
				</p>
			</li>
			<li>
				<p>
                    The event will be signaled by the audio thread, waited on by the main thread.
				</p>
			</li>
		</ul>
	</li>
	<li>
		<p>
            <code>ma_decoder</code>
            &nbsp;(a ma_data_source) advances an internal cursor when read; that‚Äôs why a single decoder can‚Äôt be used by multiple concurrent players without separate state or locks.
		</p>
	</li>
	<li>
		<p>
            For concurrency/overlap, either create multiple data sources or use an in-memory buffer data source.
		</p>
	</li>
	<li>
		<p>
            Streaming / long files (music, long voice):
		</p>
		<ul>
			<li>
				<p>
                    use a 
                    <code>ma_decoder</code>
                    &nbsp;(or streamed ma_resource_manager data source) per file/stream that‚Äôs being read by the audio callback. If you play several long files simultaneously, give each active stream its own decoder and mix their output.
				</p>
			</li>
		</ul>
	</li>
	<li>
		<p>
            Use the resource manager / audio buffer approach if you want automatic caching and lighter-weight playback instances.
		</p>
	</li>
</ul>
<h3
	id="playback" >
    Playback
</h3>
<ul>
	<li>
		<p>
			<a
				href="https://miniaud.io/docs/examples/simple_playback.html" 
				class="external-link" 
				target="_blank" >
                Playback example
			</a>
            .
		</p>
	</li>
	<li>
		<p>
			<a
				href="https://miniaud.io/docs/examples/simple_playback_sine.html" 
				class="external-link" 
				target="_blank" >
                Sine Playback example
			</a>
            .
		</p>
	</li>
</ul>
<h3
	id="capture" >
    Capture
</h3>
<ul>
	<li>
		<p>
			<a
				href="https://miniaud.io/docs/examples/simple_capture.html" 
				class="external-link" 
				target="_blank" >
                Capture example
			</a>
		</p>
	</li>
	<li>
		<p>
			<a
				href="https://miniaud.io/docs/examples/simple_loopback.html" 
				class="external-link" 
				target="_blank" >
                Loopback example on Windows
			</a>
		</p>
	</li>
</ul>
<h3
	id="spatialization" >
    Spatialization
</h3>
<ul>
	<li>
		<p>
			<a
				href="https://miniaud.io/docs/examples/simple_spatialization.html" 
				class="external-link" 
				target="_blank" >
                Spatialization example
			</a>
		</p>
	</li>
</ul>
<h3
	id="high-level-api" >
    High-Level API
</h3>
<ul>
	<li>
		<p>
            Engine.
		</p>
		<ul>
			<li>
				<p>
                    For managing and mixing sounds and effect processing.
				</p>
			</li>
			<li>
				<p>
                    When the engine is initialized, it will normally create a device internally. If you would rather manage the device yourself, you can do so and just pass a pointer to it via the engine config when you initialize the engine. You can also just use the engine without a device, which again can be configured via the engine config.
				</p>
			</li>
		</ul>
	</li>
	<li>
		<p>
            Sound.
		</p>
		<ul>
			<li>
				<p>
                    Sounds can be associated with a mixing group called ma_sound_group which are also created from the engine. Both ma_sound and ma_sound_group objects are nodes within the engine's node graph.
				</p>
			</li>
		</ul>
	</li>
	<li>
		<p>
            Resource Manager.
		</p>
		<ul>
			<li>
				<p>
                    <code>ma_resource_manager</code>
                    .
				</p>
			</li>
			<li>
				<p>
                    Loading of sound files into memory with reference counting.
				</p>
			</li>
			<li>
				<p>
                    Streaming of sound data.
				</p>
			</li>
		</ul>
	</li>
</ul>

				</article>
			</main>
			<footer
				id="central-footer" >
                üßë‚Äçüíª built and copyrighted by
				<a
					href="https://github.com/caioraphael1" 
					target="_blank" >
                    Caio Raphael
				</a>
                üìÖ 2025-2026 üöÄ
			</footer>
		</main>
		<script
			src="/static/studies.42575.js" >
		</script>
	</body>
</html>
